<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title><![CDATA[feifei's blog]]></title>
  <subtitle><![CDATA[æ‰åé…ä¸ä¸Šæ¢¦æƒ³è¿™å°±æ˜¯æ‰€è°“çš„è¿·èŒ«]]></subtitle>
  <link href="/atom.xml" rel="self"/>
  <link href="http://www.52ff.cc/"/>
  <updated>2015-03-14T05:13:34.000Z</updated>
  <id>http://www.52ff.cc/</id>
  
  <author>
    <name><![CDATA[feifei]]></name>
    <email><![CDATA[feixm86s@126.com]]></email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title><![CDATA[æ¯›æ¯›]]></title>
    <link href="http://www.52ff.cc/2015/03/13/%E6%AF%9B%E6%AF%9B/"/>
    <id>http://www.52ff.cc/2015/03/13/æ¯›æ¯›/</id>
    <published>2015-03-12T16:49:36.000Z</published>
    <updated>2015-03-14T05:13:34.000Z</updated>
    <content type="html"><![CDATA[<p>å¤šå›¾é¢„è­¦ï¼Œæ™’æ™’å’±å®¶å®è´çš„ç…§ç‰‡ï¼ŒğŸ˜„ğŸ˜„</p>
<a id="more"></a>
<p><img src="http://a1.qpic.cn/psb?/V13e7Xsb3duNUs/8ZOurTlgn8RrbWoXS*BZX1J6IOluDKqIy5HvNrz*mRg!/b/dOpJsHBoEQAA&amp;bo=gAJVAwAAAAAFAPc!&amp;rf=viewer_4" alt=""></p>
<p><img src="http://a1.qpic.cn/psb?/V13e7Xsb3duNUs/fkm63QBXo93*gpIr1Ptdcxzlq0OuPkrqkBhY.WqXWmo!/b/dO7Uq3BnEQAA&amp;bo=gAJVAwAAAAAFAPc!&amp;rf=viewer_4" alt=""></p>
<p><img src="http://a1.qpic.cn/psb?/V13e7Xsb3duNUs/1LhAJQ9mFIqvqEpzyCWwgXw0IS4e*MKVXzbCTxvUyNk!/b/dGTNrnBoEQAA&amp;bo=gAJVAwAAAAAFAPc!&amp;rf=viewer_4" alt=""></p>
<p><img src="http://b196.photo.store.qq.com/psb?/V13e7Xsb3duNUs/A4Qe**YLZomvtFndrnmyZjMRJL41EAzOSfQQZaVLpE4!/b/dN*O1HQKPwAA&amp;bo=gAJVAwAAAAAFAPc!&amp;rf=viewer_4" alt=""></p>
]]></content>
    <summary type="html">
    <![CDATA[<p>å¤šå›¾é¢„è­¦ï¼Œæ™’æ™’å’±å®¶å®è´çš„ç…§ç‰‡ï¼ŒğŸ˜„ğŸ˜„</p>]]>
    
    </summary>
    
      <category term="ï¼»å®å®ï¼½" scheme="http://www.52ff.cc/tags/%EF%BC%BB%E5%AE%9D%E5%AE%9D%EF%BC%BD/"/>
    
      <category term="ç”Ÿæ´»" scheme="http://www.52ff.cc/categories/%E7%94%9F%E6%B4%BB/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Javaç¼–ç¨‹ä¸­ä¸ºäº†æ€§èƒ½å°½é‡è¦åšåˆ°çš„ä¸€äº›åœ°æ–¹]]></title>
    <link href="http://www.52ff.cc/2015/03/12/Java%E7%BC%96%E7%A8%8B%E4%B8%AD%E4%B8%BA%E4%BA%86%E6%80%A7%E8%83%BD%E5%B0%BD%E9%87%8F%E8%A6%81%E5%81%9A%E5%88%B0%E7%9A%84%E4%B8%80%E4%BA%9B%E5%9C%B0%E6%96%B9/"/>
    <id>http://www.52ff.cc/2015/03/12/Javaç¼–ç¨‹ä¸­ä¸ºäº†æ€§èƒ½å°½é‡è¦åšåˆ°çš„ä¸€äº›åœ°æ–¹/</id>
    <published>2015-03-12T09:32:47.000Z</published>
    <updated>2015-03-14T05:07:29.000Z</updated>
    <content type="html"><![CDATA[<p>ç³»ç»Ÿè¿è¡Œä¸€æ®µæ—¶é—´è€æ˜¯å†…å­˜æº¢å‡ºï¼Œé™¤äº†å¢åŠ å¯åŠ¨å†…å­˜å¤–ï¼Œè¿˜åº”è¯¥å¥½å¥½reviewä¸€ä¸‹æˆ‘ä»¬çš„ä»£ç ï¼Œæœ‰å¾ˆå¤šä»£ç ç¼–å†™è¿‡äºéšæ„åŒ–ï¼Œè¿™äº›ä¸å¥½çš„ä¹ æƒ¯æˆ–å¯¹ç¨‹åºè¯­è¨€çš„ä¸äº†è§£æ˜¯åº”è¯¥å¥½å¥½æ‰“å‹æ‰“å‹äº†ã€‚</p>
<p>ä¸‹é¢æ˜¯å‚è€ƒç½‘ç»œèµ„æºæ€»ç»“çš„ä¸€äº›åœ¨Javaç¼–ç¨‹ä¸­å°½å¯èƒ½è¦åšåˆ°çš„ä¸€äº›åœ°æ–¹ã€‚<br><a id="more"></a></p>
<h3 id="1-_å°½é‡åœ¨åˆé€‚çš„åœºåˆä½¿ç”¨å•ä¾‹">1. å°½é‡åœ¨åˆé€‚çš„åœºåˆä½¿ç”¨å•ä¾‹</h3><p>ä½¿ç”¨å•ä¾‹å¯ä»¥å‡è½»åŠ è½½çš„è´Ÿæ‹…ï¼Œç¼©çŸ­åŠ è½½çš„æ—¶é—´ï¼Œæé«˜åŠ è½½çš„æ•ˆç‡ï¼Œä½†å¹¶ä¸æ˜¯æ‰€æœ‰åœ°æ–¹éƒ½é€‚ç”¨äºå•ä¾‹ï¼Œç®€å•æ¥è¯´ï¼Œå•ä¾‹ä¸»è¦é€‚ç”¨äºä»¥ä¸‹ä¸‰ä¸ªæ–¹é¢ï¼š<br>ç¬¬ä¸€ï¼Œæ§åˆ¶èµ„æºçš„ä½¿ç”¨ï¼Œé€šè¿‡çº¿ç¨‹åŒæ­¥æ¥æ§åˆ¶èµ„æºçš„å¹¶å‘è®¿é—®ï¼›<br>ç¬¬äºŒï¼Œæ§åˆ¶å®ä¾‹çš„äº§ç”Ÿï¼Œä»¥è¾¾åˆ°èŠ‚çº¦èµ„æºçš„ç›®çš„ï¼›<br>ç¬¬ä¸‰ï¼Œæ§åˆ¶æ•°æ®å…±äº«ï¼Œåœ¨ä¸å»ºç«‹ç›´æ¥å…³è”çš„æ¡ä»¶ä¸‹ï¼Œè®©å¤šä¸ªä¸ç›¸å…³çš„è¿›ç¨‹æˆ–çº¿ç¨‹ä¹‹é—´å®ç°é€šä¿¡ã€‚</p>
<h3 id="2-_å°½é‡é¿å…éšæ„ä½¿ç”¨é™æ€å˜é‡">2. å°½é‡é¿å…éšæ„ä½¿ç”¨é™æ€å˜é‡</h3><pre><code class="bash">public class A{   
static B b = new B();   
}
</code></pre>
<p>æ­¤æ—¶é™æ€å˜é‡bçš„ç”Ÿå‘½å‘¨æœŸä¸Aç±»åŒæ­¥ï¼Œå¦‚æœAç±»ä¸ä¼šå¸è½½ï¼Œé‚£ä¹ˆbå¯¹è±¡ä¼šå¸¸é©»å†…å­˜ï¼Œç›´åˆ°ç¨‹åºç»ˆæ­¢ã€‚</p>
<h3 id="3-_å°½é‡é¿å…è¿‡å¤šè¿‡å¸¸çš„åˆ›å»ºJavaå¯¹è±¡">3. å°½é‡é¿å…è¿‡å¤šè¿‡å¸¸çš„åˆ›å»ºJavaå¯¹è±¡</h3><p>å°½é‡é¿å…åœ¨ç»å¸¸è°ƒç”¨çš„æ–¹æ³•ï¼Œå¾ªç¯ä¸­newå¯¹è±¡ï¼Œç”±äºç³»ç»Ÿä¸ä»…è¦èŠ±è´¹æ—¶é—´æ¥åˆ›å»ºå¯¹è±¡ï¼Œè€Œä¸”è¿˜è¦èŠ±æ—¶é—´å¯¹è¿™äº›å¯¹è±¡è¿›è¡Œåƒåœ¾å›æ”¶å’Œå¤„ç†ï¼Œåœ¨æˆ‘ä»¬å¯ä»¥æ§åˆ¶çš„èŒƒå›´å†…ï¼Œæœ€å¤§é™åº¦çš„é‡ç”¨å¯¹è±¡ï¼Œæœ€å¥½èƒ½ç”¨åŸºæœ¬çš„æ•°æ®ç±»å‹æˆ–æ•°ç»„æ¥æ›¿ä»£å¯¹è±¡ã€‚</p>
<h3 id="4-_å°½é‡ä½¿ç”¨finalä¿®é¥°ç¬¦">4. å°½é‡ä½¿ç”¨finalä¿®é¥°ç¬¦</h3><p>å¸¦æœ‰finalä¿®é¥°ç¬¦çš„ç±»æ˜¯ä¸å¯æ´¾ç”Ÿçš„ã€‚åœ¨Javaæ ¸å¿ƒAPIä¸­ï¼Œæœ‰è®¸å¤šåº”ç”¨finalçš„ä¾‹å­ï¼Œä¾‹å¦‚java.lang.Stringã€‚ä¸ºStringç±»æŒ‡å®šfinalé˜²æ­¢äº†ä½¿ç”¨è€…è¦†ç›–length()æ–¹æ³•ã€‚å¦å¤–ï¼Œå¦‚æœä¸€ä¸ªç±»æ˜¯finalçš„ï¼Œåˆ™è¯¥ç±»æ‰€æœ‰æ–¹æ³•éƒ½æ˜¯finalçš„ã€‚Javaç¼–è¯‘å™¨ä¼šå¯»æ‰¾æœºä¼šå†…è”ï¼ˆinlineï¼‰æ‰€æœ‰çš„finalæ–¹æ³•ï¼ˆè¿™å’Œå…·ä½“çš„ç¼–è¯‘å™¨å®ç°æœ‰å…³ï¼‰ã€‚æ­¤ä¸¾èƒ½å¤Ÿä½¿æ€§èƒ½å¹³å‡æé«˜50%ã€‚</p>
<h3 id="5-_å°½é‡ä½¿ç”¨å±€éƒ¨å˜é‡">5. å°½é‡ä½¿ç”¨å±€éƒ¨å˜é‡</h3><p>è°ƒç”¨æ–¹æ³•æ—¶ä¼ é€’çš„å‚æ•°ä»¥åŠåœ¨è°ƒç”¨ä¸­åˆ›å»ºçš„ä¸´æ—¶å˜é‡éƒ½ä¿å­˜åœ¨æ ˆï¼ˆStackï¼‰ä¸­ï¼Œé€Ÿåº¦è¾ƒå¿«ã€‚å…¶ä»–å˜é‡ï¼Œå¦‚é™æ€å˜é‡ã€å®ä¾‹å˜é‡ç­‰ï¼Œéƒ½åœ¨å †ï¼ˆHeapï¼‰ä¸­åˆ›å»ºï¼Œé€Ÿåº¦è¾ƒæ…¢ã€‚</p>
<h3 id="6-_å°½é‡å¤„ç†å¥½åŒ…è£…ç±»å‹å’ŒåŸºæœ¬ç±»å‹ä¸¤è€…çš„ä½¿ç”¨åœºæ‰€">6. å°½é‡å¤„ç†å¥½åŒ…è£…ç±»å‹å’ŒåŸºæœ¬ç±»å‹ä¸¤è€…çš„ä½¿ç”¨åœºæ‰€</h3><p>è™½ç„¶åŒ…è£…ç±»å‹å’ŒåŸºæœ¬ç±»å‹åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­æ˜¯å¯ä»¥ç›¸äº’è½¬æ¢ï¼Œä½†å®ƒä»¬ä¸¤è€…æ‰€äº§ç”Ÿçš„å†…å­˜åŒºåŸŸæ˜¯å®Œå…¨ä¸åŒçš„ï¼ŒåŸºæœ¬ç±»å‹æ•°æ®äº§ç”Ÿå’Œå¤„ç†éƒ½åœ¨æ ˆä¸­å¤„ç†ï¼ŒåŒ…è£…ç±»å‹æ˜¯å¯¹è±¡ï¼Œæ˜¯åœ¨å †ä¸­äº§ç”Ÿå®ä¾‹ã€‚<br>åœ¨é›†åˆç±»å¯¹è±¡ï¼Œæœ‰å¯¹è±¡æ–¹é¢éœ€è¦çš„å¤„ç†é€‚ç”¨åŒ…è£…ç±»å‹ï¼Œå…¶ä»–çš„å¤„ç†æå€¡ä½¿ç”¨åŸºæœ¬ç±»å‹ã€‚</p>
<h3 id="7-_æ…ç”¨synchronizedï¼Œå°½é‡å‡å°synchronizeçš„æ–¹æ³•">7. æ…ç”¨synchronizedï¼Œå°½é‡å‡å°synchronizeçš„æ–¹æ³•</h3><p>éƒ½çŸ¥é“ï¼Œå®ç°åŒæ­¥æ˜¯è¦å¾ˆå¤§çš„ç³»ç»Ÿå¼€é”€ä½œä¸ºä»£ä»·çš„ï¼Œç”šè‡³å¯èƒ½é€ æˆæ­»é”ï¼Œæ‰€ä»¥å°½é‡é¿å…æ— è°“çš„åŒæ­¥æ§åˆ¶ã€‚synchronizeæ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼Œç›´æ¥ä¼šæŠŠå½“å‰å¯¹è±¡é” äº†ï¼Œåœ¨æ–¹æ³•æ‰§è¡Œå®Œä¹‹å‰å…¶ä»–çº¿ç¨‹æ— æ³•è°ƒç”¨å½“å‰å¯¹è±¡çš„å…¶ä»–æ–¹æ³•ã€‚æ‰€ä»¥synchronizeçš„æ–¹æ³•å°½é‡å°ï¼Œå¹¶ä¸”åº”å°½é‡ä½¿ç”¨æ–¹æ³•åŒæ­¥ä»£æ›¿ä»£ç å—åŒæ­¥ã€‚</p>
<h3 id="8-_å°½é‡ä½¿ç”¨StringBuilderå’ŒStringBufferè¿›è¡Œå­—ç¬¦ä¸²è¿æ¥">8. å°½é‡ä½¿ç”¨StringBuilderå’ŒStringBufferè¿›è¡Œå­—ç¬¦ä¸²è¿æ¥</h3><p>è¿™ä¸ªå°±ä¸å¤šè®²äº†ã€‚</p>
<h3 id="9-_å°½é‡ä¸è¦ä½¿ç”¨finalizeæ–¹æ³•">9. å°½é‡ä¸è¦ä½¿ç”¨finalizeæ–¹æ³•</h3><p>å®é™…ä¸Šï¼Œå°†èµ„æºæ¸…ç†æ”¾åœ¨finalizeæ–¹æ³•ä¸­å®Œæˆæ˜¯éå¸¸ä¸å¥½çš„é€‰æ‹©ï¼Œç”±äºGCçš„å·¥ä½œé‡å¾ˆå¤§ï¼Œå°¤å…¶æ˜¯å›æ”¶Youngä»£å†…å­˜æ—¶ï¼Œå¤§éƒ½ä¼šå¼•èµ·åº”ç”¨ç¨‹åºæš‚åœï¼Œæ‰€ä»¥å†é€‰æ‹©ä½¿ç”¨finalizeæ–¹æ³•è¿›è¡Œèµ„æºæ¸…ç†ï¼Œä¼šå¯¼è‡´GCè´Ÿæ‹…æ›´å¤§ï¼Œç¨‹åºè¿è¡Œæ•ˆç‡æ›´å·®ã€‚</p>
<h3 id="10-_å°½é‡ä½¿ç”¨åŸºæœ¬æ•°æ®ç±»å‹ä»£æ›¿å¯¹è±¡">10. å°½é‡ä½¿ç”¨åŸºæœ¬æ•°æ®ç±»å‹ä»£æ›¿å¯¹è±¡</h3><p>String str = â€œhelloâ€;<br>ä¸Šé¢è¿™ç§æ–¹å¼ä¼šåˆ›å»ºä¸€ä¸ªâ€œhelloâ€å­—ç¬¦ä¸²ï¼Œè€Œä¸”JVMçš„å­—ç¬¦ç¼“å­˜æ± è¿˜ä¼šç¼“å­˜è¿™ä¸ªå­—ç¬¦ä¸²ï¼›<br>String str = new String(â€œhelloâ€);<br>æ­¤æ—¶ç¨‹åºé™¤åˆ›å»ºå­—ç¬¦ä¸²å¤–ï¼Œstræ‰€å¼•ç”¨çš„Stringå¯¹è±¡åº•å±‚è¿˜åŒ…å«ä¸€ä¸ªchar[]æ•°ç»„ï¼Œè¿™ä¸ªchar[]æ•°ç»„ä¾æ¬¡å­˜æ”¾äº†h,e,l,l,o</p>
<h3 id="11-_å•çº¿ç¨‹åº”å°½é‡ä½¿ç”¨HashMapã€ArrayList">11. å•çº¿ç¨‹åº”å°½é‡ä½¿ç”¨HashMapã€ArrayList</h3><p>HashTableã€Vectorç­‰ä½¿ç”¨äº†åŒæ­¥æœºåˆ¶ï¼Œé™ä½äº†æ€§èƒ½ã€‚</p>
<h3 id="12-_å°½é‡åˆç†çš„åˆ›å»ºHashMap">12. å°½é‡åˆç†çš„åˆ›å»ºHashMap</h3><p>å½“ä½ è¦åˆ›å»ºä¸€ä¸ªæ¯”è¾ƒå¤§çš„hashMapæ—¶ï¼Œå……åˆ†åˆ©ç”¨å¦ä¸€ä¸ªæ„é€ å‡½æ•°<br>public HashMap(int initialCapacity, float loadFactor)<br>é¿å…HashMapå¤šæ¬¡è¿›è¡Œäº†hashé‡æ„,æ‰©å®¹æ˜¯ä¸€ä»¶å¾ˆè€—è´¹æ€§èƒ½çš„äº‹ï¼Œåœ¨é»˜è®¤ä¸­initialCapacityåªæœ‰16ï¼Œè€ŒloadFactoræ˜¯ 0.75ï¼Œéœ€è¦å¤šå¤§çš„å®¹é‡ï¼Œä½ æœ€å¥½èƒ½å‡†ç¡®çš„ä¼°è®¡ä½ æ‰€éœ€è¦çš„æœ€ä½³å¤§å°ï¼ŒåŒæ ·çš„Hashtableï¼ŒVectorsä¹Ÿæ˜¯ä¸€æ ·çš„é“ç†ã€‚</p>
<h3 id="13-_å°½é‡å‡å°‘å¯¹å˜é‡çš„é‡å¤è®¡ç®—">13. å°½é‡å‡å°‘å¯¹å˜é‡çš„é‡å¤è®¡ç®—</h3><p>å¦‚<br>for(int i=0;i&lt;list.size();i++)<br>åº”è¯¥æ”¹ä¸º<br>for(int i=0,len=list.size();i&lt;len;i++)<br>å¹¶ä¸”åœ¨å¾ªç¯ä¸­åº”è¯¥é¿å…ä½¿ç”¨å¤æ‚çš„è¡¨è¾¾å¼ï¼Œåœ¨å¾ªç¯ä¸­ï¼Œå¾ªç¯æ¡ä»¶ä¼šè¢«åå¤è®¡ç®—ï¼Œå¦‚æœä¸ä½¿ç”¨å¤æ‚è¡¨è¾¾å¼ï¼Œè€Œä½¿å¾ªç¯æ¡ä»¶å€¼ä¸å˜çš„è¯ï¼Œç¨‹åºå°†ä¼šè¿è¡Œçš„æ›´å¿«ã€‚ </p>
<h3 id="14-_å°½é‡é¿å…ä¸å¿…è¦çš„åˆ›å»º">14. å°½é‡é¿å…ä¸å¿…è¦çš„åˆ›å»º</h3><p>å¦‚<br>A a = new A();<br>if(i==1){list.add(a);}<br>åº”è¯¥æ”¹ä¸º<br>if(i==1){<br>A a = new A();<br>list.add(a);}</p>
<h3 id="15-_å°½é‡åœ¨finallyå—ä¸­é‡Šæ”¾èµ„æº">15. å°½é‡åœ¨finallyå—ä¸­é‡Šæ”¾èµ„æº</h3><p>ç¨‹åºä¸­ä½¿ç”¨åˆ°çš„èµ„æºåº”å½“è¢«é‡Šæ”¾ï¼Œä»¥é¿å…èµ„æºæ³„æ¼ã€‚è¿™æœ€å¥½åœ¨finallyå—ä¸­å»åšã€‚ä¸ç®¡ç¨‹åºæ‰§è¡Œçš„ç»“æœå¦‚ä½•ï¼Œfinallyå—æ€»æ˜¯ä¼šæ‰§è¡Œçš„ï¼Œä»¥ç¡®ä¿èµ„æºçš„æ­£ç¡®å…³é—­ã€‚ </p>
<h3 id="16-_å°½é‡ä½¿ç”¨ç§»ä½æ¥ä»£æ›¿â€™a/bâ€™çš„æ“ä½œ">16. å°½é‡ä½¿ç”¨ç§»ä½æ¥ä»£æ›¿â€™a/bâ€™çš„æ“ä½œ</h3><p>â€œ/â€œæ˜¯ä¸€ä¸ªä»£ä»·å¾ˆé«˜çš„æ“ä½œï¼Œä½¿ç”¨ç§»ä½çš„æ“ä½œå°†ä¼šæ›´å¿«å’Œæ›´æœ‰æ•ˆ<br>å¦‚<br>int num = a / 4;<br>int num = a / 8;<br>åº”è¯¥æ”¹ä¸º<br>int num = a &gt;&gt; 2;<br>int num = a &gt;&gt; 3;<br>ä½†æ³¨æ„çš„æ˜¯ä½¿ç”¨ç§»ä½åº”æ·»åŠ æ³¨é‡Šï¼Œå› ä¸ºç§»ä½æ“ä½œä¸ç›´è§‚ï¼Œæ¯”è¾ƒéš¾ç†è§£</p>
<h3 id="17-å°½é‡ä½¿ç”¨ç§»ä½æ¥ä»£æ›¿â€™a*bâ€™çš„æ“ä½œ">17.å°½é‡ä½¿ç”¨ç§»ä½æ¥ä»£æ›¿â€™a*bâ€™çš„æ“ä½œ</h3><p>åŒæ ·çš„ï¼Œå¯¹äºâ€™<em>â€˜æ“ä½œï¼Œä½¿ç”¨ç§»ä½çš„æ“ä½œå°†ä¼šæ›´å¿«å’Œæ›´æœ‰æ•ˆ<br>å¦‚<br>int num = a </em> 4;<br>int num = a * 8;<br>åº”è¯¥æ”¹ä¸º<br>int num = a &lt;&lt; 2;<br>int num = a &lt;&lt; 3;</p>
<h3 id="18-_å°½é‡ç¡®å®šStringBufferçš„å®¹é‡">18. å°½é‡ç¡®å®šStringBufferçš„å®¹é‡</h3><p>StringBuffer çš„æ„é€ å™¨ä¼šåˆ›å»ºä¸€ä¸ªé»˜è®¤å¤§å°ï¼ˆé€šå¸¸æ˜¯16ï¼‰çš„å­—ç¬¦æ•°ç»„ã€‚åœ¨ä½¿ç”¨ä¸­ï¼Œå¦‚æœè¶…å‡ºè¿™ä¸ªå¤§å°ï¼Œå°±ä¼šé‡æ–°åˆ†é…å†…å­˜ï¼Œåˆ›å»ºä¸€ä¸ªæ›´å¤§çš„æ•°ç»„ï¼Œå¹¶å°†åŸå…ˆçš„æ•°ç»„å¤åˆ¶è¿‡æ¥ï¼Œå† ä¸¢å¼ƒæ—§çš„æ•°ç»„ã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥åœ¨åˆ›å»º StringBufferçš„æ—¶å€™æŒ‡å®šå¤§å°ï¼Œè¿™æ ·å°±é¿å…äº†åœ¨å®¹é‡ä¸å¤Ÿçš„æ—¶å€™è‡ªåŠ¨å¢é•¿ï¼Œä»¥æé«˜æ€§èƒ½ã€‚<br>å¦‚ï¼šStringBuffer buffer = new StringBuffer(1000); </p>
<h3 id="19-_å°½é‡æ—©é‡Šæ”¾æ— ç”¨å¯¹è±¡çš„å¼•ç”¨">19. å°½é‡æ—©é‡Šæ”¾æ— ç”¨å¯¹è±¡çš„å¼•ç”¨</h3><p>å¤§éƒ¨åˆ†æ—¶ï¼Œæ–¹æ³•å±€éƒ¨å¼•ç”¨å˜é‡æ‰€å¼•ç”¨çš„å¯¹è±¡ ä¼šéšç€æ–¹æ³•ç»“æŸè€Œå˜æˆåƒåœ¾ï¼Œå› æ­¤ï¼Œå¤§éƒ¨åˆ†æ—¶å€™ç¨‹åºæ— éœ€å°†å±€éƒ¨ï¼Œå¼•ç”¨å˜é‡æ˜¾å¼è®¾ä¸ºnullã€‚<br>ä¾‹å¦‚ï¼š</p>
<pre><code class="bash">Public void <span class="function"><span class="title">test</span></span>(){   
Object obj = new Object();   
â€¦â€¦   
Obj=null;   
}  
[java] view plaincopy
Public void <span class="function"><span class="title">test</span></span>(){  
Object obj = new Object();  
â€¦â€¦  
Obj=null;  
}
</code></pre>
<p>ä¸Šé¢è¿™ä¸ªå°±æ²¡å¿…è¦äº†ï¼Œéšç€æ–¹æ³•test()çš„æ‰§è¡Œå®Œæˆï¼Œç¨‹åºä¸­objå¼•ç”¨å˜é‡çš„ä½œç”¨åŸŸå°±ç»“æŸäº†ã€‚ä½†æ˜¯å¦‚æœæ˜¯æ”¹æˆä¸‹é¢ï¼š</p>
<pre><code class="bash">Public void <span class="function"><span class="title">test</span></span>(){   
Object obj = new Object();   
â€¦â€¦   
Obj=null;   
//æ‰§è¡Œè€—æ—¶ï¼Œè€—å†…å­˜æ“ä½œï¼›æˆ–è°ƒç”¨è€—æ—¶ï¼Œè€—å†…å­˜çš„æ–¹æ³•   
â€¦â€¦   
}  
[java] view plaincopy
Public void <span class="function"><span class="title">test</span></span>(){  
Object obj = new Object();  
â€¦â€¦  
Obj=null;  
//æ‰§è¡Œè€—æ—¶ï¼Œè€—å†…å­˜æ“ä½œï¼›æˆ–è°ƒç”¨è€—æ—¶ï¼Œè€—å†…å­˜çš„æ–¹æ³•  
â€¦â€¦  
}
</code></pre>
<p>è¿™æ—¶å€™å°±æœ‰å¿…è¦å°†objèµ‹å€¼ä¸ºnullï¼Œå¯ä»¥å°½æ—©çš„é‡Šæ”¾å¯¹Objectå¯¹è±¡çš„å¼•ç”¨ã€‚</p>
<h3 id="20-_å°½é‡é¿å…ä½¿ç”¨äºŒç»´æ•°ç»„">20. å°½é‡é¿å…ä½¿ç”¨äºŒç»´æ•°ç»„</h3><p>äºŒç»´æ•°æ®å ç”¨çš„å†…å­˜ç©ºé—´æ¯”ä¸€ç»´æ•°ç»„å¤šå¾—å¤šï¼Œå¤§æ¦‚10å€ä»¥ä¸Šã€‚</p>
<h3 id="21-_å°½é‡é¿å…ä½¿ç”¨split">21. å°½é‡é¿å…ä½¿ç”¨split</h3><p>é™¤éæ˜¯å¿…é¡»çš„ï¼Œå¦åˆ™åº”è¯¥é¿å…ä½¿ç”¨splitï¼Œsplitç”±äºæ”¯æŒæ­£åˆ™è¡¨è¾¾å¼ï¼Œæ‰€ä»¥æ•ˆç‡æ¯”è¾ƒä½ï¼Œå¦‚æœæ˜¯é¢‘ç¹çš„å‡ åï¼Œå‡ ç™¾ä¸‡çš„è°ƒç”¨å°†ä¼šè€—è´¹å¤§é‡èµ„æºï¼Œå¦‚æœç¡®å®éœ€ è¦é¢‘ç¹çš„è°ƒç”¨splitï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨apacheçš„StringUtils.split(string,char)ï¼Œé¢‘ç¹splitçš„å¯ä»¥ç¼“å­˜ç»“æœã€‚</p>
<h3 id="22-_ArrayList_&amp;_LinkedList">22. ArrayList &amp; LinkedList</h3><p>ä¸€ ä¸ªæ˜¯çº¿æ€§è¡¨ï¼Œä¸€ä¸ªæ˜¯é“¾è¡¨ï¼Œä¸€å¥è¯ï¼ŒéšæœºæŸ¥è¯¢å°½é‡ä½¿ç”¨ArrayListï¼ŒArrayListä¼˜äºLinkedListï¼ŒLinkedListè¿˜è¦ç§»åŠ¨æŒ‡ é’ˆï¼Œæ·»åŠ åˆ é™¤çš„æ“ä½œLinkedListä¼˜äºArrayListï¼ŒArrayListè¿˜è¦ç§»åŠ¨æ•°æ®ï¼Œä¸è¿‡è¿™æ˜¯ç†è®ºæ€§åˆ†æï¼Œäº‹å®æœªå¿…å¦‚æ­¤ï¼Œé‡è¦çš„æ˜¯ç†è§£å¥½2 è€…å¾—æ•°æ®ç»“æ„ï¼Œå¯¹ç—‡ä¸‹è¯ã€‚</p>
<h3 id="23-_å°½é‡ä½¿ç”¨System-arraycopy_()ä»£æ›¿é€šè¿‡æ¥å¾ªç¯å¤åˆ¶æ•°ç»„">23. å°½é‡ä½¿ç”¨System.arraycopy ()ä»£æ›¿é€šè¿‡æ¥å¾ªç¯å¤åˆ¶æ•°ç»„</h3><p>System.arraycopy() è¦æ¯”é€šè¿‡å¾ªç¯æ¥å¤åˆ¶æ•°ç»„å¿«çš„å¤š </p>
<h3 id="24-_å°½é‡ç¼“å­˜ç»å¸¸ä½¿ç”¨çš„å¯¹è±¡">24. å°½é‡ç¼“å­˜ç»å¸¸ä½¿ç”¨çš„å¯¹è±¡</h3><p>å°½å¯èƒ½å°†ç»å¸¸ä½¿ç”¨çš„å¯¹è±¡è¿›è¡Œç¼“å­˜ï¼Œå¯ä»¥ä½¿ç”¨æ•°ç»„ï¼Œæˆ–HashMapçš„å®¹å™¨æ¥è¿›è¡Œç¼“å­˜ï¼Œä½†è¿™ç§æ–¹å¼å¯èƒ½å¯¼è‡´ç³»ç»Ÿå ç”¨è¿‡å¤šçš„ç¼“å­˜ï¼Œæ€§èƒ½ä¸‹é™ï¼Œæ¨èå¯ä»¥ä½¿ç”¨ä¸€äº›ç¬¬ä¸‰æ–¹çš„å¼€æºå·¥å…·ï¼Œå¦‚EhCacheï¼ŒOscacheè¿›è¡Œç¼“å­˜ï¼Œä»–ä»¬åŸºæœ¬éƒ½å®ç°äº†FIFO/FLUç­‰ç¼“å­˜ç®—æ³•ã€‚</p>
<h3 id="25-_å°½é‡é¿å…éå¸¸å¤§çš„å†…å­˜åˆ†é…">25. å°½é‡é¿å…éå¸¸å¤§çš„å†…å­˜åˆ†é…</h3><p>æœ‰æ—¶å€™é—®é¢˜ä¸æ˜¯ç”±å½“æ—¶çš„å †çŠ¶æ€é€ æˆçš„ï¼Œè€Œæ˜¯å› ä¸ºåˆ†é…å¤±è´¥é€ æˆçš„ã€‚åˆ†é…çš„å†…å­˜å—éƒ½å¿…é¡»æ˜¯è¿ç»­çš„ï¼Œè€Œéšç€å †è¶Šæ¥è¶Šæ»¡ï¼Œæ‰¾åˆ°è¾ƒå¤§çš„è¿ç»­å—è¶Šæ¥è¶Šå›°éš¾ã€‚</p>
<h3 id="26-_æ…ç”¨å¼‚å¸¸">26. æ…ç”¨å¼‚å¸¸</h3><p>å½“åˆ›å»ºä¸€ä¸ªå¼‚å¸¸æ—¶ï¼Œéœ€è¦æ”¶é›†ä¸€ä¸ªæ ˆè·Ÿè¸ª(stack track)ï¼Œè¿™ä¸ªæ ˆè·Ÿè¸ªç”¨äºæè¿°å¼‚å¸¸æ˜¯åœ¨ä½•å¤„åˆ›å»ºçš„ã€‚æ„å»ºè¿™äº›æ ˆè·Ÿè¸ªæ—¶éœ€è¦ä¸ºè¿è¡Œæ—¶æ ˆåšä¸€ä»½å¿«ç…§ï¼Œæ­£æ˜¯è¿™ä¸€éƒ¨åˆ†å¼€é”€å¾ˆå¤§ã€‚å½“éœ€è¦åˆ›å»ºä¸€ä¸ª Exception æ—¶ï¼ŒJVM ä¸å¾—ä¸è¯´ï¼šå…ˆåˆ«åŠ¨ï¼Œæˆ‘æƒ³å°±æ‚¨ç°åœ¨çš„æ ·å­å­˜ä¸€ä»½å¿«ç…§ï¼Œæ‰€ä»¥æš‚æ—¶åœæ­¢å…¥æ ˆå’Œå‡ºæ ˆæ“ä½œã€‚æ ˆè·Ÿè¸ªä¸åªåŒ…å«è¿è¡Œæ—¶æ ˆä¸­çš„ä¸€ä¸¤ä¸ªå…ƒç´ ï¼Œè€Œæ˜¯åŒ…å«è¿™ä¸ªæ ˆä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ã€‚<br>å¦‚ æœæ‚¨åˆ›å»ºä¸€ä¸ª Exception ï¼Œå°±å¾—ä»˜å‡ºä»£ä»·ã€‚å¥½åœ¨æ•è·å¼‚å¸¸å¼€é”€ä¸å¤§ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨ try-catch å°†æ ¸å¿ƒå†…å®¹åŒ…èµ·æ¥ã€‚ä»æŠ€æœ¯ä¸Šè®²ï¼Œæ‚¨ç”šè‡³å¯ä»¥éšæ„åœ°æŠ›å‡ºå¼‚å¸¸ï¼Œè€Œä¸ç”¨èŠ±è´¹å¾ˆå¤§çš„ä»£ä»·ã€‚æ‹›è‡´æ€§èƒ½æŸå¤±çš„å¹¶ä¸æ˜¯ throw æ“ä½œâ€”â€”å°½ç®¡åœ¨æ²¡æœ‰é¢„å…ˆåˆ›å»ºå¼‚å¸¸çš„æƒ…å†µä¸‹å°±æŠ›å‡ºå¼‚å¸¸æ˜¯æœ‰ç‚¹ä¸å¯»å¸¸ã€‚çœŸæ­£è¦èŠ±ä»£ä»·çš„æ˜¯åˆ›å»ºå¼‚å¸¸ã€‚å¹¸è¿çš„æ˜¯ï¼Œå¥½çš„ç¼–ç¨‹ä¹ æƒ¯å·²æ•™ä¼šæˆ‘ä»¬ï¼Œä¸åº”è¯¥ä¸ç®¡ä¸‰ä¸ƒäºŒåä¸€å°± æŠ›å‡ºå¼‚å¸¸ã€‚å¼‚å¸¸æ˜¯ä¸ºå¼‚å¸¸çš„æƒ…å†µè€Œè®¾è®¡çš„ï¼Œä½¿ç”¨æ—¶ä¹Ÿåº”è¯¥ç‰¢è®°è¿™ä¸€åŸåˆ™ã€‚</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>ç³»ç»Ÿè¿è¡Œä¸€æ®µæ—¶é—´è€æ˜¯å†…å­˜æº¢å‡ºï¼Œé™¤äº†å¢åŠ å¯åŠ¨å†…å­˜å¤–ï¼Œè¿˜åº”è¯¥å¥½å¥½reviewä¸€ä¸‹æˆ‘ä»¬çš„ä»£ç ï¼Œæœ‰å¾ˆå¤šä»£ç ç¼–å†™è¿‡äºéšæ„åŒ–ï¼Œè¿™äº›ä¸å¥½çš„ä¹ æƒ¯æˆ–å¯¹ç¨‹åºè¯­è¨€çš„ä¸äº†è§£æ˜¯åº”è¯¥å¥½å¥½æ‰“å‹æ‰“å‹äº†ã€‚</p>
<p>ä¸‹é¢æ˜¯å‚è€ƒç½‘ç»œèµ„æºæ€»ç»“çš„ä¸€äº›åœ¨Javaç¼–ç¨‹ä¸­å°½å¯èƒ½è¦åšåˆ°çš„ä¸€äº›åœ°æ–¹ã€‚<br>]]>
    
    </summary>
    
      <category term="java" scheme="http://www.52ff.cc/tags/java/"/>
    
      <category term="java" scheme="http://www.52ff.cc/categories/java/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[wapç½‘é¡µcssæŠ€å·§ç¯‡1]]></title>
    <link href="http://www.52ff.cc/2015/03/12/wap%E7%BD%91%E9%A1%B5css%E6%8A%80%E5%B7%A7%E7%AF%871/"/>
    <id>http://www.52ff.cc/2015/03/12/wapç½‘é¡µcssæŠ€å·§ç¯‡1/</id>
    <published>2015-03-12T03:51:08.000Z</published>
    <updated>2015-03-14T05:08:33.000Z</updated>
    <content type="html"><![CDATA[<p>å‰ç«¯æ—¶é—´è´Ÿè´£å…¬å¸å†’æ³¡å¸‚åœºçš„æ´»åŠ¨å¼€å‘å·¥ä½œï¼Œéœ€è¦åœ¨ä¸åŒçš„æœºå‹ä¸Šé¢åšå¥½é€‚é…ï¼Œå‡ å¤©çš„å¼€å‘ä¸‹æ¥ï¼Œå­¦ä¹ æŒæ¡äº†å‡ ä¸ªcssçš„ç†å¿µå’ŒæŠ€å·§ï¼Œä¸‹é¢æ€»ç»“åˆ†äº«ä¸‹æ‰‹æœºä¸Šå¼€å‘ç½‘é¡µçš„å‡ ä¸ªå°æŠ€å·§</p>
<a id="more"></a>
<h2 id="ä½¿ç”¨ç™¾åˆ†æ¯”">ä½¿ç”¨ç™¾åˆ†æ¯”</h2><h3 id="å…ƒç´ çš„é«˜åº¦å’Œå®½åº¦æŒ‰æ¯”ä¾‹è®¾ç½®">å…ƒç´ çš„é«˜åº¦å’Œå®½åº¦æŒ‰æ¯”ä¾‹è®¾ç½®</h3><p>æ‰‹æœºçš„wapç½‘é¡µå°½é‡ä½¿ç”¨ç™¾åˆ†æ¯”<br>1.æŒ‰ä¸€å®šçš„ç™¾åˆ†æ¯”è®¾ç½®å®½åº¦ï¼Œå¦‚widthï¼š100%<br>2.é«˜åº¦è®¾ç½®æˆ0ï¼Œå¦‚height:0<br>3.è®¾ç½®é«˜åº¦æ˜¯å®½åº¦çš„ä¸€å®šæ¯”ä¾‹ï¼Œå‡è®¾60%ï¼Œåˆ™ï¼špadding-bottom:60%</p>
<h2 id="å›¾ç‰‡èƒŒæ™¯">å›¾ç‰‡èƒŒæ™¯</h2><h3 id="divè®¾ç½®å›¾ç‰‡èƒŒæ™¯">divè®¾ç½®å›¾ç‰‡èƒŒæ™¯</h3><p>ç¤ºä¾‹ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#nav&#123; background:url("images/nav.png") no-repeat; width: 100%; padding-bottom: 38.194% ;height: 0; background-size :cover; &#125;</span></span><br><span class="line">``` </span><br><span class="line"></span><br><span class="line"><span class="number">1</span>.å›¾ç‰‡è®¾ç½®æˆæ’‘æ»¡æ•´ä¸ªdivï¼Œä½¿ç”¨</span><br><span class="line">``` bash</span><br><span class="line">background-size : cover;</span><br></pre></td></tr></table></figure></p>
<p>2.å›¾ç‰‡åœ¨divä¸­é å³æ˜¾ç¤ºï¼Œä½¿ç”¨<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">background-position :right top;</span><br></pre></td></tr></table></figure></p>
<h2 id="æ ·å¼ä¼˜å…ˆçº§">æ ·å¼ä¼˜å…ˆçº§</h2><h3 id="CSSæ ·å¼ä¼˜å…ˆçº§">CSSæ ·å¼ä¼˜å…ˆçº§</h3><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼š<br>[1ä½é‡è¦æ ‡å¿—ä½] &gt; [4ä½ç‰¹æ®Šæ€§æ ‡å¿—] &gt; å£°æ˜å…ˆåé¡ºåº</p>
<p>!important &gt; [ id &gt; class &gt; tag ]  </p>
<p>ä½¿ç”¨!importantå¯ä»¥æ”¹å˜ä¼˜å…ˆçº§åˆ«ä¸ºæœ€é«˜ï¼Œå…¶æ¬¡æ˜¯styleå¯¹è±¡ï¼Œç„¶åæ˜¯id &gt; class &gt;tag ï¼Œå¦å¤–ï¼Œå¦å¤–åœ¨åŒçº§æ ·å¼æŒ‰ç…§ç”³æ˜çš„é¡ºåºåå‡ºç°çš„æ ·å¼å…·æœ‰é«˜ä¼˜å…ˆçº§ã€‚</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>å‰ç«¯æ—¶é—´è´Ÿè´£å…¬å¸å†’æ³¡å¸‚åœºçš„æ´»åŠ¨å¼€å‘å·¥ä½œï¼Œéœ€è¦åœ¨ä¸åŒçš„æœºå‹ä¸Šé¢åšå¥½é€‚é…ï¼Œå‡ å¤©çš„å¼€å‘ä¸‹æ¥ï¼Œå­¦ä¹ æŒæ¡äº†å‡ ä¸ªcssçš„ç†å¿µå’ŒæŠ€å·§ï¼Œä¸‹é¢æ€»ç»“åˆ†äº«ä¸‹æ‰‹æœºä¸Šå¼€å‘ç½‘é¡µçš„å‡ ä¸ªå°æŠ€å·§</p>]]>
    
    </summary>
    
      <category term="css" scheme="http://www.52ff.cc/tags/css/"/>
    
      <category term="html5" scheme="http://www.52ff.cc/tags/html5/"/>
    
      <category term="å‰ç«¯æŠ€æœ¯" scheme="http://www.52ff.cc/categories/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[ä¸€ä¸ªç®€é™‹çš„RPCæ¡†æ¶]]></title>
    <link href="http://www.52ff.cc/2015/03/11/%E4%B8%80%E4%B8%AA%E7%AE%80%E9%99%8B%E7%9A%84RPC%E6%A1%86%E6%9E%B6/"/>
    <id>http://www.52ff.cc/2015/03/11/ä¸€ä¸ªç®€é™‹çš„RPCæ¡†æ¶/</id>
    <published>2015-03-11T07:03:28.000Z</published>
    <updated>2015-03-12T15:55:35.000Z</updated>
    <content type="html"><![CDATA[<p>ç®€æ˜“æè¿°RPCçš„åŸºæœ¬å·¥ä½œåŸç†ï¼šæœåŠ¡å™¨å¯åŠ¨äº†ä¸€ä¸ªçº¿ç¨‹ç›‘å¬ Socket ç«¯å£, æœ‰Socketè®¿é—®äº†, ååºåˆ—åŒ–è§£æå‡º<br>è°ƒç”¨çš„Service å’Œmethod, ä»¥åŠä¼ å…¥çš„å‚æ•°,å†ç”¨Socket å†™å›å»ã€‚</p>
<p>å®¢æˆ·ç«¯åˆ©ç”¨jdkçš„Proxyç”Ÿæˆäº†ä¸€ä¸ªä»£ç†ç±»,åœ¨åˆ›å»ºProxy æ—¶å»ºç«‹ä¸æœåŠ¡å™¨çš„Socketè¿æ¥.<br>è°ƒç”¨Proxyçš„æ–¹æ³•æ—¶,å‘æœåŠ¡å™¨å‘é€æ•°æ®,ç­‰å¾…ç»“æœè¿”å›ã€‚</p>
<a id="more"></a>
<p>ä»¥ä¸‹ä»£ç æ¥è‡ªdubboå›¢é˜Ÿæ¢é£</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">import java.io.ObjectInputStream;  </span><br><span class="line">import java.io.ObjectOutputStream;  </span><br><span class="line">import java.lang.reflect.InvocationHandler;  </span><br><span class="line">import java.lang.reflect.Method;  </span><br><span class="line">import java.lang.reflect.Proxy;  </span><br><span class="line">import java.net.ServerSocket;  </span><br><span class="line">import java.net.Socket;  </span><br><span class="line">  </span><br><span class="line">/** </span><br><span class="line"> * RpcFramework  </span><br><span class="line"> */  </span><br><span class="line">public class RpcFramework &#123;  </span><br><span class="line">  </span><br><span class="line">    /** </span><br><span class="line">     * æš´éœ²æœåŠ¡ </span><br><span class="line">     *  </span><br><span class="line">     * @param service æœåŠ¡å®ç° </span><br><span class="line">     * @param port æœåŠ¡ç«¯å£ </span><br><span class="line">     * @throws Exception </span><br><span class="line">     */  </span><br><span class="line">    public static void <span class="built_in">export</span>(final Object service, int port) throws Exception &#123;  </span><br><span class="line">        <span class="keyword">if</span> (service == null)  </span><br><span class="line">            throw new IllegalArgumentException(<span class="string">"service instance == null"</span>);  </span><br><span class="line">        <span class="keyword">if</span> (port &lt;= <span class="number">0</span> || port &gt; <span class="number">65535</span>)  </span><br><span class="line">            throw new IllegalArgumentException(<span class="string">"Invalid port "</span> + port);  </span><br><span class="line">        System.out.println(<span class="string">"Export service "</span> + service.getClass().getName() + <span class="string">" on port "</span> + port);  </span><br><span class="line">        ServerSocket server = new ServerSocket(port);  </span><br><span class="line">        <span class="keyword">for</span>(;;) &#123;  </span><br><span class="line">            try &#123;  </span><br><span class="line">                final Socket socket = server.accept();  </span><br><span class="line">                new Thread(new <span class="function"><span class="title">Runnable</span></span>() &#123;  </span><br><span class="line">                    @Override  </span><br><span class="line">                    public void <span class="function"><span class="title">run</span></span>() &#123;  </span><br><span class="line">                        try &#123;  </span><br><span class="line">                            try &#123;  </span><br><span class="line">                                ObjectInputStream input = new ObjectInputStream(socket.getInputStream());  </span><br><span class="line">                                try &#123;  </span><br><span class="line">                                    String methodName = input.readUTF();  </span><br><span class="line">                                    Class&lt;?&gt;[] parameterTypes = (Class&lt;?&gt;[])input.readObject();  </span><br><span class="line">                                    Object[] arguments = (Object[])input.readObject();  </span><br><span class="line">                                    ObjectOutputStream output = new ObjectOutputStream(socket.getOutputStream());  </span><br><span class="line">                                    try &#123;  </span><br><span class="line">                                        Method method = service.getClass().getMethod(methodName, parameterTypes);  </span><br><span class="line">                                        Object result = method.invoke(service, arguments);  </span><br><span class="line">                                        output.writeObject(result);  </span><br><span class="line">                                    &#125; catch (Throwable t) &#123;  </span><br><span class="line">                                        output.writeObject(t);  </span><br><span class="line">                                    &#125; finally &#123;  </span><br><span class="line">                                        output.close();  </span><br><span class="line">                                    &#125;  </span><br><span class="line">                                &#125; finally &#123;  </span><br><span class="line">                                    input.close();  </span><br><span class="line">                                &#125;  </span><br><span class="line">                            &#125; finally &#123;  </span><br><span class="line">                                socket.close();  </span><br><span class="line">                            &#125;  </span><br><span class="line">                        &#125; catch (Exception e) &#123;  </span><br><span class="line">                            e.printStackTrace();  </span><br><span class="line">                        &#125;  </span><br><span class="line">                    &#125;  </span><br><span class="line">                &#125;).start();  </span><br><span class="line">            &#125; catch (Exception e) &#123;  </span><br><span class="line">                e.printStackTrace();  </span><br><span class="line">            &#125;  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    /** </span><br><span class="line">     * å¼•ç”¨æœåŠ¡ </span><br><span class="line">     *  </span><br><span class="line">     * @param &lt;T&gt; æ¥å£æ³›å‹ </span><br><span class="line">     * @param interfaceClass æ¥å£ç±»å‹ </span><br><span class="line">     * @param host æœåŠ¡å™¨ä¸»æœºå </span><br><span class="line">     * @param port æœåŠ¡å™¨ç«¯å£ </span><br><span class="line">     * @<span class="built_in">return</span> è¿œç¨‹æœåŠ¡ </span><br><span class="line">     * @throws Exception </span><br><span class="line">     */  </span><br><span class="line">    @SuppressWarnings(<span class="string">"unchecked"</span>)  </span><br><span class="line">    public static &lt;T&gt; T refer(final Class&lt;T&gt; interfaceClass, final String host, final int port) throws Exception &#123;  </span><br><span class="line">        <span class="keyword">if</span> (interfaceClass == null)  </span><br><span class="line">            throw new IllegalArgumentException(<span class="string">"Interface class == null"</span>);  </span><br><span class="line">        <span class="keyword">if</span> (! interfaceClass.isInterface())  </span><br><span class="line">            throw new IllegalArgumentException(<span class="string">"The "</span> + interfaceClass.getName() + <span class="string">" must be interface class!"</span>);  </span><br><span class="line">        <span class="keyword">if</span> (host == null || host.length() == <span class="number">0</span>)  </span><br><span class="line">            throw new IllegalArgumentException(<span class="string">"Host == null!"</span>);  </span><br><span class="line">        <span class="keyword">if</span> (port &lt;= <span class="number">0</span> || port &gt; <span class="number">65535</span>)  </span><br><span class="line">            throw new IllegalArgumentException(<span class="string">"Invalid port "</span> + port);  </span><br><span class="line">        System.out.println(<span class="string">"Get remote service "</span> + interfaceClass.getName() + <span class="string">" from server "</span> + host + <span class="string">":"</span> + port);  </span><br><span class="line">        <span class="built_in">return</span> (T) Proxy.newProxyInstance(interfaceClass.getClassLoader(), new Class&lt;?&gt;[] &#123;interfaceClass&#125;, new <span class="function"><span class="title">InvocationHandler</span></span>() &#123;  </span><br><span class="line">            public Object invoke(Object proxy, Method method, Object[] arguments) throws Throwable &#123;  </span><br><span class="line">                Socket socket = new Socket(host, port);  </span><br><span class="line">                try &#123;  </span><br><span class="line">                    ObjectOutputStream output = new ObjectOutputStream(socket.getOutputStream());  </span><br><span class="line">                    try &#123;  </span><br><span class="line">                        output.writeUTF(method.getName());  </span><br><span class="line">                        output.writeObject(method.getParameterTypes());  </span><br><span class="line">                        output.writeObject(arguments);  </span><br><span class="line">                        ObjectInputStream input = new ObjectInputStream(socket.getInputStream());  </span><br><span class="line">                        try &#123;  </span><br><span class="line">                            Object result = input.readObject();  </span><br><span class="line">                            <span class="keyword">if</span> (result instanceof Throwable) &#123;  </span><br><span class="line">                                throw (Throwable) result;  </span><br><span class="line">                            &#125;  </span><br><span class="line">                            <span class="built_in">return</span> result;  </span><br><span class="line">                        &#125; finally &#123;  </span><br><span class="line">                            input.close();  </span><br><span class="line">                        &#125;  </span><br><span class="line">                    &#125; finally &#123;  </span><br><span class="line">                        output.close();  </span><br><span class="line">                    &#125;  </span><br><span class="line">                &#125; finally &#123;  </span><br><span class="line">                    socket.close();  </span><br><span class="line">                &#125;  </span><br><span class="line">            &#125;  </span><br><span class="line">        &#125;);  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">public interface HelloService &#123;  </span><br><span class="line">  </span><br><span class="line">    String hello(String name);  </span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">public class HelloServiceImpl implements HelloService &#123;  </span><br><span class="line">  </span><br><span class="line">    public String hello(String name) &#123;  </span><br><span class="line">        <span class="built_in">return</span> <span class="string">"Hello "</span> + name;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">&#125; </span><br><span class="line">``` </span><br><span class="line">``` bash</span><br><span class="line">public class RpcProvider &#123;  </span><br><span class="line">  </span><br><span class="line">    public static void main(String[] args) throws Exception &#123;  </span><br><span class="line">        HelloService service = new HelloServiceImpl();  </span><br><span class="line">        RpcFramework.export(service, <span class="number">1234</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">public class RpcConsumer &#123;  </span><br><span class="line">      </span><br><span class="line">    public static void main(String[] args) throws Exception &#123;  </span><br><span class="line">        HelloService service = RpcFramework.refer(HelloService.class, <span class="string">"127.0.0.1"</span>, <span class="number">1234</span>);  </span><br><span class="line">        <span class="keyword">for</span> (int i = <span class="number">0</span>; i &lt; Integer.MAX_VALUE; i ++) &#123;  </span><br><span class="line">            String hello = service.hello(<span class="string">"World"</span> + i);  </span><br><span class="line">            System.out.println(hello);  </span><br><span class="line">            Thread.sleep(<span class="number">1000</span>);  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">      </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
    <summary type="html">
    <![CDATA[<p>ç®€æ˜“æè¿°RPCçš„åŸºæœ¬å·¥ä½œåŸç†ï¼šæœåŠ¡å™¨å¯åŠ¨äº†ä¸€ä¸ªçº¿ç¨‹ç›‘å¬ Socket ç«¯å£, æœ‰Socketè®¿é—®äº†, ååºåˆ—åŒ–è§£æå‡º<br>è°ƒç”¨çš„Service å’Œmethod, ä»¥åŠä¼ å…¥çš„å‚æ•°,å†ç”¨Socket å†™å›å»ã€‚</p>
<p>å®¢æˆ·ç«¯åˆ©ç”¨jdkçš„Proxyç”Ÿæˆäº†ä¸€ä¸ªä»£ç†ç±»,åœ¨åˆ›å»ºProxy æ—¶å»ºç«‹ä¸æœåŠ¡å™¨çš„Socketè¿æ¥.<br>è°ƒç”¨Proxyçš„æ–¹æ³•æ—¶,å‘æœåŠ¡å™¨å‘é€æ•°æ®,ç­‰å¾…ç»“æœè¿”å›ã€‚</p>]]>
    
    </summary>
    
      <category term="RPCè¿œç¨‹è°ƒç”¨" scheme="http://www.52ff.cc/tags/RPC%E8%BF%9C%E7%A8%8B%E8%B0%83%E7%94%A8/"/>
    
      <category term="RPCè¿œç¨‹è°ƒç”¨" scheme="http://www.52ff.cc/categories/RPC%E8%BF%9C%E7%A8%8B%E8%B0%83%E7%94%A8/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[FASTåŸºç¡€å‘½ä»¤å®‰è£…é…ç½®]]></title>
    <link href="http://www.52ff.cc/2015/03/11/FastDFS%E5%B8%B8%E8%A7%81%E5%91%BD%E4%BB%A4/"/>
    <id>http://www.52ff.cc/2015/03/11/FastDFSå¸¸è§å‘½ä»¤/</id>
    <published>2015-03-11T06:20:08.000Z</published>
    <updated>2015-03-14T04:57:52.000Z</updated>
    <content type="html"><![CDATA[<p>FastDFSæ˜¯ä¸€ä¸ªå¼€æºçš„è½»é‡çº§åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿï¼Œå®ƒå¯¹æ–‡ä»¶è¿›è¡Œç®¡ç†ï¼ŒåŠŸèƒ½åŒ…æ‹¬ï¼šæ–‡ä»¶å­˜å‚¨ã€æ–‡ä»¶åŒæ­¥ã€æ–‡ä»¶è®¿é—®ï¼ˆæ–‡ä»¶ä¸Šä¼ ã€æ–‡ä»¶ä¸‹è½½ï¼‰ç­‰ï¼Œè§£å†³äº†å¤§å®¹é‡å­˜å‚¨å’Œè´Ÿè½½å‡è¡¡çš„é—®é¢˜ã€‚ç‰¹åˆ«é€‚åˆä»¥æ–‡ä»¶ä¸ºè½½ä½“çš„åœ¨çº¿æœåŠ¡ï¼Œå¦‚ç›¸å†Œç½‘ç«™ã€è§†é¢‘ç½‘ç«™ç­‰ç­‰ã€‚æˆ‘ä»¬éƒ¨é—¨çš„åº”ç”¨å•†åº—äº§ç”¨FastDFSä½œä¸ºåº”ç”¨å®‰è£…åŒ…å’Œå›¾ç‰‡çš„å­˜å‚¨ã€‚</p>
<p>å®ƒåªèƒ½é€šè¿‡ä¸“æœ‰APIå¯¹æ–‡ä»¶è¿›è¡Œå­˜å–è®¿é—®ï¼Œä¸æ”¯æŒPOSIXæ¥å£æ–¹å¼ï¼Œä¸èƒ½mountä½¿ç”¨ã€‚å‡†ç¡®åœ°è®²ï¼ŒGoogle FSä»¥åŠFastDFSã€mogileFSã€ HDFSã€TFSç­‰ç±»Google FSéƒ½ä¸æ˜¯ç³»ç»Ÿçº§çš„åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿï¼Œè€Œæ˜¯åº”ç”¨çº§çš„åˆ†å¸ƒå¼æ–‡ä»¶å­˜å‚¨æœåŠ¡ã€‚<br><a id="more"></a></p>
<h3 id="å¯åŠ¨FastDFS">å¯åŠ¨FastDFS</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">tracker: /usr/<span class="built_in">local</span>/bin/fdfs_trackered /etc/fdfs/tracker.conf</span><br><span class="line">storage: /usr/<span class="built_in">local</span>/bin/fdfs_storaged /etc/fdfs/storage.conf</span><br></pre></td></tr></table></figure>
<h3 id="å…³é—­FastDFS">å…³é—­FastDFS</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">tracker:/usr/<span class="built_in">local</span>/bin/stop.sh /usr/<span class="built_in">local</span>/bin/fdfs_tracker</span><br><span class="line">storage:/usr/<span class="built_in">local</span>/bin/stop.sh /usr/<span class="built_in">local</span>/bin/fdfs_storage</span><br></pre></td></tr></table></figure>
<p>æˆ–è€… killall fdfs_trackered(storaged)  â€”â€”-æ³¨æ„ï¼Œåƒä¸‡ä¸è¦ä½¿ç”¨-9å¼ºè¡Œæ€æ­»è¿›ç¨‹ã€‚</p>
<h3 id="é‡å¯FastDFS">é‡å¯FastDFS</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">tracker:/usr/<span class="built_in">local</span>/bin/restart.sh /usr/<span class="built_in">local</span>/bin/fdfs_trackered</span><br><span class="line">storage:/usr/<span class="built_in">local</span>/bin/restart.sh /usr/<span class="built_in">local</span>/bin/fdfs_storaged</span><br></pre></td></tr></table></figure>
<h3 id="æŸ¥çœ‹é›†ç¾¤æƒ…å†µ">æŸ¥çœ‹é›†ç¾¤æƒ…å†µ</h3><p>åœ¨ä»»æ„ä¸€å°storage(trackerä¹Ÿå¯ä»¥) </p>
<pre><code class="bash">/usr/<span class="built_in">local</span>/bin/fdfs_monitor /etc/fdfs/storage.conf
</code></pre>
<h3 id="åˆ é™¤ä¸€ä¸ªstorage">åˆ é™¤ä¸€ä¸ªstorage</h3><p>åœ¨ä»»æ„ä¸€å°storage(trackerä¹Ÿå¯ä»¥) </p>
<pre><code class="bash">/usr/<span class="built_in">local</span>/bin/fdfs_monitor /etc/fdfs/storage.conf delete group2 <span class="number">20.12</span>.<span class="number">1.73</span>
</code></pre>
<h3 id="CentOS_6-2ä¸‹fastDFSçš„å®Œæ•´å®‰è£…å’Œé…ç½®æ­¥éª¤">CentOS 6.2ä¸‹fastDFSçš„å®Œæ•´å®‰è£…å’Œé…ç½®æ­¥éª¤</h3><p><a href="http://www.linuxidc.com/Linux/2012-12/75989.htm" target="_blank" rel="external">http://www.linuxidc.com/Linux/2012-12/75989.htm</a></p>
<h3 id="FastDFSåœ¨Ubuntuä¸‹çš„å®‰è£…ï¼ŒPHPå®¢æˆ·ç«¯">FastDFSåœ¨Ubuntuä¸‹çš„å®‰è£…ï¼ŒPHPå®¢æˆ·ç«¯</h3><p><a href="http://www.linuxidc.com/Linux/2012-09/71459.htm" target="_blank" rel="external">http://www.linuxidc.com/Linux/2012-09/71459.htm</a></p>
<h3 id="FastDFSåˆ†å¸ƒå¼æ–‡ä»¶æœåŠ¡å™¨å®‰è£…ï¼ŒåŠé…ç½®ï¼Œæµ‹è¯•">FastDFSåˆ†å¸ƒå¼æ–‡ä»¶æœåŠ¡å™¨å®‰è£…ï¼ŒåŠé…ç½®ï¼Œæµ‹è¯•</h3><p><a href="http://www.linuxidc.com/Linux/2012-09/71458.htm" target="_blank" rel="external">http://www.linuxidc.com/Linux/2012-09/71458.htm</a></p>
<h3 id="FastDFS_æ•´åˆNginxé—®é¢˜æ•´ç†">FastDFS æ•´åˆNginxé—®é¢˜æ•´ç†</h3><p><a href="http://www.linuxidc.com/Linux/2012-09/71232.htm" target="_blank" rel="external">http://www.linuxidc.com/Linux/2012-09/71232.htm</a></p>
<h3 id="CentOSä¸‹æ­å»ºFastDFS">CentOSä¸‹æ­å»ºFastDFS</h3><p><a href="http://www.linuxidc.com/Linux/2012-09/70995.htm" target="_blank" rel="external">http://www.linuxidc.com/Linux/2012-09/70995.htm</a></p>
<h3 id="Ubuntuå®‰è£…FastDFSå…¨ç¨‹è®°å½•">Ubuntuå®‰è£…FastDFSå…¨ç¨‹è®°å½•</h3><p><a href="http://www.linuxidc.com/Linux/2012-03/56377.htm" target="_blank" rel="external">http://www.linuxidc.com/Linux/2012-03/56377.htm</a></p>
]]></content>
    <summary type="html">
    <![CDATA[<p>FastDFSæ˜¯ä¸€ä¸ªå¼€æºçš„è½»é‡çº§åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿï¼Œå®ƒå¯¹æ–‡ä»¶è¿›è¡Œç®¡ç†ï¼ŒåŠŸèƒ½åŒ…æ‹¬ï¼šæ–‡ä»¶å­˜å‚¨ã€æ–‡ä»¶åŒæ­¥ã€æ–‡ä»¶è®¿é—®ï¼ˆæ–‡ä»¶ä¸Šä¼ ã€æ–‡ä»¶ä¸‹è½½ï¼‰ç­‰ï¼Œè§£å†³äº†å¤§å®¹é‡å­˜å‚¨å’Œè´Ÿè½½å‡è¡¡çš„é—®é¢˜ã€‚ç‰¹åˆ«é€‚åˆä»¥æ–‡ä»¶ä¸ºè½½ä½“çš„åœ¨çº¿æœåŠ¡ï¼Œå¦‚ç›¸å†Œç½‘ç«™ã€è§†é¢‘ç½‘ç«™ç­‰ç­‰ã€‚æˆ‘ä»¬éƒ¨é—¨çš„åº”ç”¨å•†åº—äº§ç”¨FastDFSä½œä¸ºåº”ç”¨å®‰è£…åŒ…å’Œå›¾ç‰‡çš„å­˜å‚¨ã€‚</p>
<p>å®ƒåªèƒ½é€šè¿‡ä¸“æœ‰APIå¯¹æ–‡ä»¶è¿›è¡Œå­˜å–è®¿é—®ï¼Œä¸æ”¯æŒPOSIXæ¥å£æ–¹å¼ï¼Œä¸èƒ½mountä½¿ç”¨ã€‚å‡†ç¡®åœ°è®²ï¼ŒGoogle FSä»¥åŠFastDFSã€mogileFSã€ HDFSã€TFSç­‰ç±»Google FSéƒ½ä¸æ˜¯ç³»ç»Ÿçº§çš„åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿï¼Œè€Œæ˜¯åº”ç”¨çº§çš„åˆ†å¸ƒå¼æ–‡ä»¶å­˜å‚¨æœåŠ¡ã€‚<br>]]>
    
    </summary>
    
      <category term="fastdfs" scheme="http://www.52ff.cc/tags/fastdfs/"/>
    
      <category term="åˆ†å¸ƒå¼æ–‡ä»¶å­˜å‚¨" scheme="http://www.52ff.cc/categories/%E5%88%86%E5%B8%83%E5%BC%8F%E6%96%87%E4%BB%B6%E5%AD%98%E5%82%A8/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[redisåŸºç¡€å‘½ä»¤]]></title>
    <link href="http://www.52ff.cc/2015/03/11/redis%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4/"/>
    <id>http://www.52ff.cc/2015/03/11/redisåŸºç¡€å‘½ä»¤/</id>
    <published>2015-03-11T03:51:08.000Z</published>
    <updated>2015-03-14T05:23:49.000Z</updated>
    <content type="html"><![CDATA[<p>Redis æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„key-valueæ•°æ®åº“ã€‚ redisçš„å‡ºç°ï¼Œå¾ˆå¤§ç¨‹åº¦è¡¥å¿äº†memcachedè¿™ç±»key/valueå­˜å‚¨çš„ä¸è¶³ï¼Œåœ¨éƒ¨åˆ†åœºåˆå¯ä»¥å¯¹å…³ç³»æ•°æ®åº“èµ·åˆ°å¾ˆå¥½çš„è¡¥å……ä½œç”¨ï¼ŒRediså·²é€æ­¥å–ä»£memcachedã€‚</p>
<p>å®ƒæ”¯æŒå­˜å‚¨çš„valueç±»å‹ç›¸å¯¹æ›´å¤šï¼ŒåŒ…æ‹¬string(å­—ç¬¦ä¸²)ã€list(é“¾è¡¨)ã€set(é›†åˆ)ã€zset(sorted set â€”æœ‰åºé›†åˆ)å’Œhashsï¼ˆå“ˆå¸Œç±»å‹ï¼‰,ä¸‹é¢æˆ‘æ¥åˆ†äº«ä¸€ä¸‹redisçš„å¸¸ç”¨å‘½ä»¤</p>
<a id="more"></a>
<h3 id="æŒä¹…åŒ–">æŒä¹…åŒ–</h3><p>saveï¼šå°†æ•°æ®åŒæ­¥ä¿å­˜åˆ°ç£ç›˜<br>bgsaveï¼šå°†æ•°æ®å¼‚æ­¥ä¿å­˜åˆ°ç£ç›˜<br>lastsaveï¼šè¿”å›ä¸Šæ¬¡æˆåŠŸå°†æ•°æ®ä¿å­˜åˆ°ç£ç›˜çš„Unixæ—¶æˆ³<br>shundownï¼šå°†æ•°æ®åŒæ­¥ä¿å­˜åˆ°ç£ç›˜ï¼Œç„¶åå…³é—­æœåŠ¡</p>
<h3 id="è¿œç¨‹æœåŠ¡æ§åˆ¶">è¿œç¨‹æœåŠ¡æ§åˆ¶</h3><p>infoï¼šæä¾›æœåŠ¡å™¨çš„ä¿¡æ¯å’Œç»Ÿè®¡<br>monitorï¼šå®æ—¶è½¬å‚¨æ”¶åˆ°çš„è¯·æ±‚<br>slaveofï¼šæ”¹å˜å¤åˆ¶ç­–ç•¥è®¾ç½®<br>configï¼šåœ¨è¿è¡Œæ—¶é…ç½®RedisæœåŠ¡å™¨</p>
<h3 id="å¯¹valueæ“ä½œçš„å‘½ä»¤">å¯¹valueæ“ä½œçš„å‘½ä»¤</h3><p>exists(key)ï¼šç¡®è®¤ä¸€ä¸ªkeyæ˜¯å¦å­˜åœ¨<br>del(key)ï¼šåˆ é™¤ä¸€ä¸ªkey<br>type(key)ï¼šè¿”å›å€¼çš„ç±»å‹<br>keys(pattern)ï¼šè¿”å›æ»¡è¶³ç»™å®špatternçš„æ‰€æœ‰key<br>randomkeyï¼šéšæœºè¿”å›keyç©ºé—´çš„ä¸€ä¸ª<br>keyrename(oldname, newname)ï¼šé‡å‘½åkey<br>dbsizeï¼šè¿”å›å½“å‰æ•°æ®åº“ä¸­keyçš„æ•°ç›®<br>expireï¼šè®¾å®šä¸€ä¸ªkeyçš„æ´»åŠ¨æ—¶é—´ï¼ˆsï¼‰<br>ttlï¼šè·å¾—ä¸€ä¸ªkeyçš„æ´»åŠ¨æ—¶é—´<br>select(index)ï¼šæŒ‰ç´¢å¼•æŸ¥è¯¢<br>move(key, dbindex)ï¼šç§»åŠ¨å½“å‰æ•°æ®åº“ä¸­çš„keyåˆ°dbindexæ•°æ®åº“<br>flushdbï¼šåˆ é™¤å½“å‰é€‰æ‹©æ•°æ®åº“ä¸­çš„æ‰€æœ‰key<br>flushallï¼šåˆ é™¤æ‰€æœ‰æ•°æ®åº“ä¸­çš„æ‰€æœ‰key</p>
<h3 id="å¯¹Stringæ“ä½œçš„å‘½ä»¤">å¯¹Stringæ“ä½œçš„å‘½ä»¤</h3><p>set(key, value)ï¼šç»™æ•°æ®åº“ä¸­åç§°ä¸ºkeyçš„stringèµ‹äºˆå€¼value<br>get(key)ï¼šè¿”å›æ•°æ®åº“ä¸­åç§°ä¸ºkeyçš„stringçš„value<br>getset(key, value)ï¼šç»™åç§°ä¸ºkeyçš„stringèµ‹äºˆä¸Šä¸€æ¬¡çš„value<br>mget(key1, key2,â€¦, key N)ï¼šè¿”å›åº“ä¸­å¤šä¸ªstringçš„value<br>setnx(key, value)ï¼šæ·»åŠ stringï¼Œåç§°ä¸ºkeyï¼Œå€¼ä¸ºvalue<br>setex(key, time, value)ï¼šå‘åº“ä¸­æ·»åŠ stringï¼Œè®¾å®šè¿‡æœŸæ—¶é—´time<br>mset(key N, value N)ï¼šæ‰¹é‡è®¾ç½®å¤šä¸ªstringçš„å€¼<br>msetnx(key N, value N)ï¼šå¦‚æœæ‰€æœ‰åç§°ä¸ºkey içš„stringéƒ½ä¸å­˜åœ¨<br>incr(key)ï¼šåç§°ä¸ºkeyçš„stringå¢1æ“ä½œ<br>incrby(key, integer)ï¼šåç§°ä¸ºkeyçš„stringå¢åŠ integer<br>decr(key)ï¼šåç§°ä¸ºkeyçš„stringå‡1æ“ä½œ<br>decrby(key, integer)ï¼šåç§°ä¸ºkeyçš„stringå‡å°‘integer<br>append(key, value)ï¼šåç§°ä¸ºkeyçš„stringçš„å€¼é™„åŠ value<br>substr(key, start, end)ï¼šè¿”å›åç§°ä¸ºkeyçš„stringçš„valueçš„å­ä¸²</p>
<h3 id="å¯¹Listæ“ä½œçš„å‘½ä»¤">å¯¹Listæ“ä½œçš„å‘½ä»¤</h3><p>rpush(key, value)ï¼šåœ¨åç§°ä¸ºkeyçš„listå°¾æ·»åŠ ä¸€ä¸ªå€¼ä¸ºvalueçš„å…ƒç´ <br>lpush(key, value)ï¼šåœ¨åç§°ä¸ºkeyçš„listå¤´æ·»åŠ ä¸€ä¸ªå€¼ä¸ºvalueçš„ å…ƒç´ <br>llen(key)ï¼šè¿”å›åç§°ä¸ºkeyçš„listçš„é•¿åº¦<br>lrange(key, start, end)ï¼šè¿”å›åç§°ä¸ºkeyçš„listä¸­startè‡³endä¹‹é—´çš„å…ƒç´ <br>ltrim(key, start, end)ï¼šæˆªå–åç§°ä¸ºkeyçš„list<br>lindex(key, index)ï¼šè¿”å›åç§°ä¸ºkeyçš„listä¸­indexä½ç½®çš„å…ƒç´ <br>lset(key, index, value)ï¼šç»™åç§°ä¸ºkeyçš„listä¸­indexä½ç½®çš„å…ƒç´ èµ‹å€¼<br>lrem(key, count, value)ï¼šåˆ é™¤countä¸ªkeyçš„listä¸­å€¼ä¸ºvalueçš„å…ƒç´ <br>lpop(key)ï¼šè¿”å›å¹¶åˆ é™¤åç§°ä¸ºkeyçš„listä¸­çš„é¦–å…ƒç´ <br>rpop(key)ï¼šè¿”å›å¹¶åˆ é™¤åç§°ä¸ºkeyçš„listä¸­çš„å°¾å…ƒç´ <br>blpop(key1, key2,â€¦ key N, timeout)ï¼šlpopå‘½ä»¤çš„blockç‰ˆæœ¬ã€‚<br>brpop(key1, key2,â€¦ key N, timeout)ï¼šrpopçš„blockç‰ˆæœ¬ã€‚<br>rpoplpush(srckey, dstkey)ï¼šè¿”å›å¹¶åˆ é™¤åç§°ä¸ºsrckeyçš„listçš„å°¾å…ƒç´ ï¼Œå¹¶å°†è¯¥å…ƒç´ æ·»åŠ åˆ°åç§°ä¸ºdstkeyçš„listçš„å¤´éƒ¨</p>
<h3 id="å¯¹Setæ“ä½œçš„å‘½ä»¤">å¯¹Setæ“ä½œçš„å‘½ä»¤</h3><p>sadd(key, member)ï¼šå‘åç§°ä¸ºkeyçš„setä¸­æ·»åŠ å…ƒç´ member<br>srem(key, member) ï¼šåˆ é™¤åç§°ä¸ºkeyçš„setä¸­çš„å…ƒç´ member<br>spop(key) ï¼šéšæœºè¿”å›å¹¶åˆ é™¤åç§°ä¸ºkeyçš„setä¸­ä¸€ä¸ªå…ƒç´ <br>smove(srckey, dstkey, member) ï¼šç§»åˆ°é›†åˆå…ƒç´ <br>scard(key) ï¼šè¿”å›åç§°ä¸ºkeyçš„setçš„åŸºæ•°<br>sismember(key, member) ï¼šmemberæ˜¯å¦æ˜¯åç§°ä¸ºkeyçš„setçš„å…ƒç´ <br>sinter(key1, key2,â€¦key N) ï¼šæ±‚äº¤é›†<br>sinterstore(dstkey, (keys)) ï¼šæ±‚äº¤é›†å¹¶å°†äº¤é›†ä¿å­˜åˆ°dstkeyçš„é›†åˆ<br>sunion(key1, (keys)) ï¼šæ±‚å¹¶é›†<br>sunionstore(dstkey, (keys)) ï¼šæ±‚å¹¶é›†å¹¶å°†å¹¶é›†ä¿å­˜åˆ°dstkeyçš„é›†åˆ<br>sdiff(key1, (keys)) ï¼šæ±‚å·®é›†<br>sdiffstore(dstkey, (keys)) ï¼šæ±‚å·®é›†å¹¶å°†å·®é›†ä¿å­˜åˆ°dstkeyçš„é›†åˆ<br>smembers(key) ï¼šè¿”å›åç§°ä¸ºkeyçš„setçš„æ‰€æœ‰å…ƒç´ <br>srandmember(key) ï¼šéšæœºè¿”å›åç§°ä¸ºkeyçš„setçš„ä¸€ä¸ªå…ƒç´ </p>
<h3 id="å¯¹Hashæ“ä½œçš„å‘½ä»¤">å¯¹Hashæ“ä½œçš„å‘½ä»¤</h3><p>hset(key, field, value)ï¼šå‘åç§°ä¸ºkeyçš„hashä¸­æ·»åŠ å…ƒç´ field<br>hget(key, field)ï¼šè¿”å›åç§°ä¸ºkeyçš„hashä¸­fieldå¯¹åº”çš„value<br>hmget(key, (fields))ï¼šè¿”å›åç§°ä¸ºkeyçš„hashä¸­field iå¯¹åº”çš„value<br>hmset(key, (fields))ï¼šå‘åç§°ä¸ºkeyçš„hashä¸­æ·»åŠ å…ƒç´ field<br>hincrby(key, field, integer)ï¼šå°†åç§°ä¸ºkeyçš„hashä¸­fieldçš„valueå¢åŠ integer<br>hexists(key, field)ï¼šåç§°ä¸ºkeyçš„hashä¸­æ˜¯å¦å­˜åœ¨é”®ä¸ºfieldçš„åŸŸ<br>hdel(key, field)ï¼šåˆ é™¤åç§°ä¸ºkeyçš„hashä¸­é”®ä¸ºfieldçš„åŸŸ<br>hlen(key)ï¼šè¿”å›åç§°ä¸ºkeyçš„hashä¸­å…ƒç´ ä¸ªæ•°<br>hkeys(key)ï¼šè¿”å›åç§°ä¸ºkeyçš„hashä¸­æ‰€æœ‰é”®<br>hvals(key)ï¼šè¿”å›åç§°ä¸ºkeyçš„hashä¸­æ‰€æœ‰é”®å¯¹åº”çš„value<br>hgetall(key)ï¼šè¿”å›åç§°ä¸ºkeyçš„hashä¸­æ‰€æœ‰çš„é”®ï¼ˆfieldï¼‰åŠå…¶å¯¹åº”çš„value</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>Redis æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„key-valueæ•°æ®åº“ã€‚ redisçš„å‡ºç°ï¼Œå¾ˆå¤§ç¨‹åº¦è¡¥å¿äº†memcachedè¿™ç±»key/valueå­˜å‚¨çš„ä¸è¶³ï¼Œåœ¨éƒ¨åˆ†åœºåˆå¯ä»¥å¯¹å…³ç³»æ•°æ®åº“èµ·åˆ°å¾ˆå¥½çš„è¡¥å……ä½œç”¨ï¼ŒRediså·²é€æ­¥å–ä»£memcachedã€‚</p>
<p>å®ƒæ”¯æŒå­˜å‚¨çš„valueç±»å‹ç›¸å¯¹æ›´å¤šï¼ŒåŒ…æ‹¬string(å­—ç¬¦ä¸²)ã€list(é“¾è¡¨)ã€set(é›†åˆ)ã€zset(sorted set â€”æœ‰åºé›†åˆ)å’Œhashsï¼ˆå“ˆå¸Œç±»å‹ï¼‰,ä¸‹é¢æˆ‘æ¥åˆ†äº«ä¸€ä¸‹redisçš„å¸¸ç”¨å‘½ä»¤</p>]]>
    
    </summary>
    
      <category term="redis" scheme="http://www.52ff.cc/tags/redis/"/>
    
      <category term="ç¼“å­˜" scheme="http://www.52ff.cc/tags/%E7%BC%93%E5%AD%98/"/>
    
      <category term="no-sql" scheme="http://www.52ff.cc/categories/no-sql/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[hexo]]></title>
    <link href="http://www.52ff.cc/2015/03/06/hello-world/"/>
    <id>http://www.52ff.cc/2015/03/06/hello-world/</id>
    <published>2015-03-06T09:32:47.000Z</published>
    <updated>2015-03-14T05:28:44.000Z</updated>
    <content type="html"><![CDATA[<p>Welcome to <a href="http://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="http://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="http://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<a id="more"></a>
<h2 id="Quick_Start">Quick Start</h2><h3 id="Create_a_new_post">Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run_server">Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate_static_files">Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy_to_remote_sites">Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>
]]></content>
    <summary type="html">
    <![CDATA[<p>Welcome to <a href="http://hexo.io/">Hexo</a>! This is your very first post. Check <a href="http://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="http://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>]]>
    
    </summary>
    
  </entry>
  
  <entry>
    <title><![CDATA[é‡å†™hashcode()ä¸equals()]]></title>
    <link href="http://www.52ff.cc/2012/03/12/%E9%87%8D%E5%86%99hashcode()%E4%B8%8Eequals()/"/>
    <id>http://www.52ff.cc/2012/03/12/é‡å†™hashcode()ä¸equals()/</id>
    <published>2012-03-12T03:51:08.000Z</published>
    <updated>2015-03-14T05:08:52.000Z</updated>
    <content type="html"><![CDATA[<p>æµ…è°ˆä¸ºä½•è¦é‡å†™ hashcode()ä¸equals()<br>æˆ‘ä»¬çŸ¥é“ï¼Œå¦‚æœä¸é‡å†™equalsï¼Œé‚£ä¹ˆæ¯”è¾ƒçš„å°†æ˜¯å¯¹è±¡çš„å¼•ç”¨æ˜¯å¦æŒ‡å‘åŒä¸€å—å†…å­˜åœ°å€ï¼Œé‡å†™ä¹‹åç›®çš„æ˜¯ä¸ºäº†æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„valueå€¼æ˜¯å¦ç›¸ç­‰ã€‚ç‰¹åˆ«æŒ‡å‡ºï¼Œæ­¤æ—¶ï¼Œåˆ©ç”¨equalsæ¯”è¾ƒå…«å¤§åŒ…è£…å¯¹è±¡ï¼ˆå¦‚intï¼Œfloatç­‰ï¼‰å’ŒStringç±»ï¼ˆå› ä¸ºè¯¥ç±»å·²é‡å†™äº†equalså’Œhashcodeæ–¹æ³•ï¼‰å¯¹è±¡æ—¶ï¼Œé»˜è®¤æ¯”è¾ƒçš„æ˜¯å€¼ï¼Œåœ¨æ¯”è¾ƒå…¶å®ƒå¯¹è±¡éƒ½æ˜¯æ¯”è¾ƒçš„å¼•ç”¨åœ°å€ã€‚é‚£äº§ç”Ÿäº†ä¸€ä¸ªé—®é¢˜ï¼Œä¸ºä»€ä¹ˆjdkä¸­å¸Œæœ›æˆ‘ä»¬åœ¨é‡å†™equalsæ—¶ï¼Œéå¸¸æœ‰å¿…è¦é‡å†™hashcodeå‘¢ï¼Ÿ</p>
<a id="more"></a>
<p>é¦–å…ˆï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•éƒ½æ¥è‡ªäºObjectå¯¹è±¡ï¼Œæ ¹æ®APIæ–‡æ¡£æŸ¥çœ‹ä¸‹åŸæ„ã€‚(1)public boolean equals(Object obj)ï¼Œå¯¹äºä»»ä½•éç©ºå¼•ç”¨å€¼ x å’Œ yï¼Œå½“ä¸”ä»…å½“ x å’Œ y å¼•ç”¨åŒä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œæ­¤æ–¹æ³•æ‰è¿”å› trueï¼›æ³¨æ„ï¼šå½“æ­¤æ–¹æ³•è¢«é‡å†™æ—¶ï¼Œé€šå¸¸æœ‰å¿…è¦é‡å†™ hashCode æ–¹æ³•ï¼Œä»¥ç»´æŠ¤ hashCode æ–¹æ³•çš„å¸¸è§„åå®šï¼Œè¯¥åå®šå£°æ˜ç›¸ç­‰å¯¹è±¡å¿…é¡»å…·æœ‰ç›¸ç­‰çš„å“ˆå¸Œç ã€‚ï¼ˆ2ï¼‰public int hashCode() è¿”å›è¯¥å¯¹è±¡çš„å“ˆå¸Œç å€¼ã€‚æ”¯æŒè¯¥æ–¹æ³•æ˜¯ä¸ºå“ˆå¸Œè¡¨æä¾›ä¸€äº›ä¼˜ç‚¹ï¼Œä¾‹å¦‚ï¼Œjava.util.Hashtable æä¾›çš„å“ˆå¸Œè¡¨ã€‚</p>
<p>æˆ‘çš„ç†è§£æ˜¯hashcodeæ˜¯ç”¨äºæ•£åˆ—æ•°æ®çš„å¿«é€Ÿå­˜å–ï¼Œå¦‚åˆ©ç”¨HashSet/HashMap/Hashtableç±»æ¥å­˜å‚¨æ•°æ®æ—¶ï¼Œéƒ½æ˜¯æ ¹æ®å­˜å‚¨å¯¹è±¡çš„hashcodeå€¼æ¥è¿›è¡Œåˆ¤æ–­æ˜¯å¦ç›¸åŒçš„ã€‚è¿™æ ·å¦‚æœæˆ‘ä»¬å¯¹ä¸€ä¸ªå¯¹è±¡é‡å†™äº†euqalsï¼Œæ„æ€æ˜¯åªè¦å¯¹è±¡çš„æˆå‘˜å˜é‡å€¼éƒ½ç›¸ç­‰é‚£ä¹ˆeuqalså°±ç­‰äºtrueï¼Œä½†ä¸é‡å†™hashcodeï¼Œé‚£ä¹ˆæˆ‘ä»¬å†newä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œå½“åŸå¯¹è±¡.equalsï¼ˆæ–°å¯¹è±¡ï¼‰ç­‰äºtrueæ—¶ï¼Œä¸¤è€…çš„hashcodeå´æ˜¯ä¸ä¸€æ ·çš„ï¼Œç”±æ­¤å°†äº§ç”Ÿäº†ç†è§£çš„ä¸ä¸€è‡´ï¼Œå¦‚åœ¨å­˜å‚¨æ•£åˆ—é›†åˆæ—¶ï¼ˆå¦‚Setç±»ï¼‰ï¼Œå°†ä¼šå­˜å‚¨äº†ä¸¤ä¸ªå€¼ä¸€æ ·çš„å¯¹è±¡ï¼Œå¯¼è‡´æ··æ·†ï¼Œå› æ­¤ï¼Œå°±ä¹Ÿéœ€è¦é‡å†™hashcodeã€‚ä¸ºäº†ä¿è¯è¿™ç§ä¸€è‡´æ€§ï¼Œå¿…é¡»æ»¡è¶³ä»¥ä¸‹ä¸¤ä¸ªæ¡ä»¶ï¼š</p>
<p>(1)å½“obj1.equals(obj2)ä¸ºtrueæ—¶ï¼Œobj1.hashCode() == obj2.hashCode()å¿…é¡»ä¸ºtrue<br>(2)å½“obj1.hashCode() == obj2.hashCode()ä¸ºfalseæ—¶ï¼Œobj1.equals(obj2)å¿…é¡»ä¸ºfalse<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">import java.util.*;</span><br><span class="line">class BeanA &#123;</span><br><span class="line">private int i;</span><br><span class="line">public BeanA(int i) &#123;</span><br><span class="line">   this.i = i;</span><br><span class="line">&#125;</span><br><span class="line">public String <span class="function"><span class="title">toString</span></span>() &#123;</span><br><span class="line">   <span class="built_in">return</span> <span class="string">"   "</span> + i;</span><br><span class="line">&#125;</span><br><span class="line">public boolean equals(Object o) &#123;</span><br><span class="line">   BeanA a = (BeanA) o;</span><br><span class="line">   <span class="built_in">return</span> (a.i == i) ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line">public int <span class="function"><span class="title">hashCode</span></span>() &#123;</span><br><span class="line">   <span class="built_in">return</span> i;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">public class HashCodeTest &#123;</span><br><span class="line"></span><br><span class="line">public static void main(String[] args) &#123;</span><br><span class="line">   HashSet&lt;BeanA&gt; <span class="built_in">set</span> = new HashSet&lt;BeanA&gt;();</span><br><span class="line">   <span class="keyword">for</span> (int i = <span class="number">0</span>; i &lt;= <span class="number">3</span>; i++)&#123;</span><br><span class="line">    set.add(new BeanA(i));</span><br><span class="line">   &#125;</span><br><span class="line">   System.out.println(<span class="built_in">set</span>);</span><br><span class="line">   set.add(new BeanA(<span class="number">1</span>));</span><br><span class="line">   System.out.println(set.toString());</span><br><span class="line">   System.out.println(set.contains(new BeanA(<span class="number">0</span>)));</span><br><span class="line">   System.out.println(set.add(new BeanA(<span class="number">1</span>)));</span><br><span class="line">   System.out.println(set.add(new BeanA(<span class="number">4</span>)));</span><br><span class="line">   System.out.println(<span class="built_in">set</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>æˆ‘ä»¬åœ¨ç±»BeanAä¸­é‡å†™äº†equalså’Œhashcodeæ–¹æ³•ï¼Œè¿™æ ·åœ¨å­˜å‚¨åˆ°HashSetæ•°æ®é›†ä¸­ï¼Œå°†ä¿è¯ä¸ä¼šå‡ºç°é‡å¤çš„æ•°æ®ï¼›å¦‚æœæŠŠè¿™ä¸¤ä¸ªæ–¹æ³•å»æ‰åï¼Œé‚£äº›é‡å¤çš„æ•°æ®ä»ä¼šå­˜å…¥HashSetä¸­ï¼Œè¿™å°±ä¸HashSetå¼ºè°ƒçš„å…ƒç´ å”¯ä¸€æ€§ç›¸è¿èƒŒï¼Œå¤§å®¶å¯ä»¥æŠŠè¿™ä¸¤ä¸ªæ–¹æ³•æ³¨é‡Šæ‰å†è¿è¡Œä¸€ä¸‹ã€‚<br>å› æ­¤ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç†è§£åœ¨ä¸€äº›javaç±»ä¸­ä»€ä¹ˆæƒ…å†µä¸‹éœ€è¦é‡å†™equalså’Œhashcodeã€‚æ¯”å¦‚ï¼šåœ¨hibernateçš„å®ä½“ç±»ä¸­ï¼Œå¾€å¾€é€šè¿‡ä¸€ä¸ªä¸»é”®ï¼ˆæˆ–å”¯ä¸€æ ‡è¯†ç¬¦ï¼‰æ¥åˆ¤æ–­æ•°æ®åº“çš„æŸä¸€è¡Œï¼Œè¿™å°±éœ€è¦é‡å†™è¿™ä¸¤ä¸ªæ–¹æ³•ã€‚å› ä¸ºï¼ŒHibernateä¿è¯ï¼Œä»…åœ¨ç‰¹å®šä¼šè¯èŒƒå›´å†…ï¼ŒæŒä¹…åŒ–æ ‡è¯†ï¼ˆæ•°æ®åº“çš„è¡Œï¼‰å’ŒJavaæ ‡è¯†æ˜¯ç­‰ä»·çš„ã€‚å› æ­¤ï¼Œä¸€æ—¦æˆ‘ä»¬æ··åˆäº†ä»ä¸åŒä¼šè¯ä¸­è·å–çš„å®ä¾‹ï¼Œå¦‚æœå¸Œæœ›Setæœ‰æ˜ç¡®çš„è¯­ä¹‰ï¼Œå°±å¿… é¡»å®ç°equals() å’ŒhashCode()ã€‚</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>æµ…è°ˆä¸ºä½•è¦é‡å†™ hashcode()ä¸equals()<br>æˆ‘ä»¬çŸ¥é“ï¼Œå¦‚æœä¸é‡å†™equalsï¼Œé‚£ä¹ˆæ¯”è¾ƒçš„å°†æ˜¯å¯¹è±¡çš„å¼•ç”¨æ˜¯å¦æŒ‡å‘åŒä¸€å—å†…å­˜åœ°å€ï¼Œé‡å†™ä¹‹åç›®çš„æ˜¯ä¸ºäº†æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„valueå€¼æ˜¯å¦ç›¸ç­‰ã€‚ç‰¹åˆ«æŒ‡å‡ºï¼Œæ­¤æ—¶ï¼Œåˆ©ç”¨equalsæ¯”è¾ƒå…«å¤§åŒ…è£…å¯¹è±¡ï¼ˆå¦‚intï¼Œfloatç­‰ï¼‰å’ŒStringç±»ï¼ˆå› ä¸ºè¯¥ç±»å·²é‡å†™äº†equalså’Œhashcodeæ–¹æ³•ï¼‰å¯¹è±¡æ—¶ï¼Œé»˜è®¤æ¯”è¾ƒçš„æ˜¯å€¼ï¼Œåœ¨æ¯”è¾ƒå…¶å®ƒå¯¹è±¡éƒ½æ˜¯æ¯”è¾ƒçš„å¼•ç”¨åœ°å€ã€‚é‚£äº§ç”Ÿäº†ä¸€ä¸ªé—®é¢˜ï¼Œä¸ºä»€ä¹ˆjdkä¸­å¸Œæœ›æˆ‘ä»¬åœ¨é‡å†™equalsæ—¶ï¼Œéå¸¸æœ‰å¿…è¦é‡å†™hashcodeå‘¢ï¼Ÿ</p>]]>
    
    </summary>
    
      <category term="java" scheme="http://www.52ff.cc/tags/java/"/>
    
      <category term="java" scheme="http://www.52ff.cc/categories/java/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[minaå¤šçº¿ç¨‹æ± ]]></title>
    <link href="http://www.52ff.cc/2012/02/12/mina%E5%A4%9A%E7%BA%BF%E7%A8%8B%E6%B1%A0/"/>
    <id>http://www.52ff.cc/2012/02/12/minaå¤šçº¿ç¨‹æ± /</id>
    <published>2012-02-12T02:51:08.000Z</published>
    <updated>2015-03-14T05:09:05.000Z</updated>
    <content type="html"><![CDATA[<p>minaæœåŠ¡ç«¯çš„é€šä¿¡è¿‡ç¨‹å¦‚ä¸‹<br> 1 ã€é€šè¿‡ SocketAcceptor åŒå®¢æˆ·ç«¯å»ºç«‹è¿æ¥<br> 2 ã€é“¾æ¥å»ºç«‹ä¹‹å I/O çš„è¯»å†™äº¤ç»™äº† I/O Processor çº¿ç¨‹ I/O Processor æ˜¯å¤šçº¿ç¨‹çš„<br> 3 ã€é€šè¿‡ I/O Processor è¯»å–çš„æ•°æ®ç»è¿‡ IoFilterChain é‡Œæ‰€æœ‰é…ç½®çš„ IoFilter î€‚ IoFilter è¿›è¡Œæ¶ˆæ¯çš„è¿‡æ»¤î€‚æ ¼å¼çš„è½¬æ¢î€‚åœ¨è¿™ä¸ªå±‚é¢å¯ä»¥åˆ¶å®šä¸€äº›è‡ªå®šä¹‰çš„åè®®ï¼›<br> 4 ã€æœ€å IoFilter å°†æ•°æ®äº¤ç»™ Handler è¿›è¡Œä¸šåŠ¡å¤„ç†î€‚å®Œæˆäº†æ•´ä¸ªè¯»å–çš„è¿‡ç¨‹<br> 5 ã€å†™å…¥è¿‡ç¨‹ä¹Ÿæ˜¯ç±»ä¼¼î€‚åªæ˜¯åˆšå¥½å€’è¿‡æ¥î€‚é€šè¿‡ IoSession.write å†™å‡ºæ•°æ®î€‚ç„¶å Handler è¿›è¡Œå†™å…¥çš„ä¸šåŠ¡å¤„ç†î€‚å¤„ç†å®Œæˆåäº¤ç»™ IoFilterChain î€‚è¿›è¡Œæ¶ˆæ¯è¿‡æ»¤å’Œåè®®çš„è½¬æ¢î€‚æœ€åé€šè¿‡ I/O Processor å°†æ•°æ®å†™å‡ºåˆ° socketé€šé“ã€‚</p>
<a id="more"></a>
<p>Mina çš„å¤šçº§çº¿ç¨‹æ± <br>åœ¨åŸºäº SocketAcceptor çš„åº”ç”¨ç¨‹åºä¸­î€‚è¿è¡Œè¿‡ç¨‹ä¸­ Mina æ¡†æ¶æœ¬èº«ä¼šæœ‰ä¸¤ç§ç±»å‹çš„çº¿ç¨‹åœ¨è¿è¡Œ<br>ä¸€ç§æ˜¯åœ¨SocketAcceptor ä¸­åˆ›å»ºçš„ç”¨äºç›‘å¬å¹¶æ¥æ”¶æ¥è‡ªå®¢æˆ·ç«¯è¯·æ±‚çš„çº¿ç¨‹ã€‚è¿˜æœ‰ä¸€ç±»çº¿ç¨‹æ˜¯å¤„ç†å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ç«¯ I/O çš„çº¿ç¨‹î€‚å³ Processor çš„å¤„ç†çº¿ç¨‹ã€‚åé¢è¿˜æœ‰ç¬¬ä¸‰ç±»ï¼Œå°±æ˜¯è¿‡æ»¤å™¨å±‚çš„çº¿ç¨‹ã€‚<br>è¿™ä¸ªå¤šçº§çš„æ¦‚å¿µåé¢ä½ ä¼šä½“ä¼šåˆ°î€‚Acceptor æ˜¯ä¸€çº§çº¿ç¨‹æ± î€‚è€Œ Processor çš„çº¿ç¨‹æ± ä¸»è¦é€šè¿‡ ExecutorFileter è¿›è¡Œæ·»åŠ î€‚å½“ç„¶å¯ä»¥æ·»åŠ å¤šä¸ªå±‚æ¬¡çš„çº¿ç¨‹æ± ã€‚ä¸‹é¢é€å±‚è¿›è¡Œè®²è§£ã€‚</p>
<p>ç¬¬ä¸€ç±»çº¿ç¨‹æ± <br>å½“è°ƒç”¨ SocketAcceptor çš„ bind æ–¹æ³•æ—¶î€‚é»˜è®¤ä¼šåˆ›å»ºä¸€ä¸ªåç§°å‰ç¼€ä¸º SocketAcceptor çš„çº¿ç¨‹î€‚è¯¥çº¿ç¨‹è´Ÿè´£ç›‘å¬æ¥è‡ªå®¢æˆ·ç«¯çš„è¯·æ±‚î€‚å¦‚æœæ¥æ”¶åˆ°å®¢æˆ·ç«¯çš„è¯·æ±‚î€‚å®ƒä»…ä»…æ˜¯ä¸ºå¤„ç†è¿™ä¸ªè¯·æ±‚åšå¥½å‡†å¤‡î€‚è€ŒæŠŠå…·ä½“å¤„ç†è¯·æ±‚ä»¥åŠI/O çš„ä»»åŠ¡ä»£ç†ç»™ SocketIoProcessor î€„è®©å®ƒå»å¤„ç†è¯·æ±‚ã€‚è¿™ä¸ªå‡†å¤‡è¿‡ç¨‹ä¸»è¦æ˜¯ä¸ºæ¥å—åˆ°çš„è¯·æ±‚åˆ›å»ºä¸€ä¸ª   IoSession î€„å¹¶æ„å»ºå‡º IoFilter é“¾î€„ç„¶åæŠŠå‡†å¤‡å¥½çš„æ•°æ®ä»¥åŠæ¥è‡ªå®¢æˆ·ç«¯çš„è¯·æ±‚äº¤ç»™ SocketIoProcessor å¤„ç†ã€‚é€šå¸¸ è¿™ç±»çº¿ç¨‹ä¼šé’ˆå¯¹æ¯ä¸€æ¬¡çš„ bind è°ƒç”¨åˆ›å»ºä¸€ä¸ªæ–°çš„çº¿ç¨‹ã€‚ è¯·æ³¨æ„ â€œé€šå¸¸ â€ äºŒå­—î€„ä½¿ç”¨è¿™ä¸¤ä¸ªå­—è¯´æ˜ä¸Šè¿°çš„è¡Œä¸ºä¸æ˜¯ç»å¯¹çš„ã€‚çš„ç¡®è¿™ä¸æ˜¯ç»å¯¹çš„î€„è¿™å–å†³äºSocketAcceptor çš„å­—æ®µ executor çš„å®ç°î€„å¯ä»¥é€šè¿‡æ„é€ æ–¹æ³•æ¥è®¾ç½®å­—æ®µ executor çš„å€¼î€„ executor å­—æ®µçš„ç±»å‹ä¸º java.util.concurrent.Executor ã€‚ mina é»˜è®¤æ˜¯ç”¨ org.apache.mina.util.NewThreadExecutor î€„å®ƒä¼šä¸ºæ¯ä¸€ä¸ªæäº¤çš„ä»»åŠ¡åˆ›å»ºä¸€ä¸ªæ–°çš„çº¿ç¨‹ã€‚å› ä¸ºåœ¨ bind æ–¹æ³•ä¸­å®ƒä¼šæŠŠå®ç°ç›‘å¬å®¢æˆ·ç«¯è¯·æ±‚ä»»åŠ¡çš„ Runnable æäº¤åˆ° executorä¸­å»æ‰§è¡Œã€‚æ³¨æ„åƒä¸‡ä¸è¦ä½¿ç”¨ä¸€ä¸ªä¸åˆ›å»ºæ–°çº¿ç¨‹è€Œæ˜¯åœ¨åŸçº¿ç¨‹ä¸­æ‰§è¡Œçš„ Executor î€„è¿™ä¼šä½¿ç¨‹åºæ— æ³•ç›‘å¬å®¢æˆ·ç«¯çš„è¯·æ±‚î€„å› ä¸ºç¨‹åºä¸­çš„å”¯ä¸€çº¿ç¨‹ä¼šè¢« Selector.get() æ–¹æ³•æ‰€é˜»å¡î€„è¯¦æƒ…å¯ä»¥æŸ¥çœ‹ SocketAcceptor ç±»çš„æºä»£ç ã€‚</p>
<p>ç¬¬äºŒç±»çº¿ç¨‹æ± <br> å½“ SocketAcceptor æ”¶åˆ°äº†æ¥è‡ªå®¢æˆ·ç«¯çš„è¯·æ±‚î€„å®ƒå°±ä¼šæŠŠæ­¤è¯·æ±‚ä¸¢ç»™ SocketIoProcessor å»å¤„ç†î€„è¿™ä¼šåˆ›å»ºåç§°ä»¥ SocketAcceptorIoProcessor ä¸ºå‰ç¼€çš„çº¿ç¨‹î€„ mina æ¡†æ¶åœ¨è¿™ç±»çº¿ç¨‹ä¸­å¤„ç† I/O å‘å¸ƒå¹¶å¤„ç†äº‹ä»¶ã€‚è¿™ä¸€ç±»çº¿ç¨‹çš„æ•°é‡å¯ä»¥é€šè¿‡ SocketAcceptor çš„æ„é€ å‡½æ•°æ¥è®¾ç½®ã€‚å…·ä½“çš„å€¼å¯ä»¥æ ¹æ®åº”ç”¨çš„å…·ä½“éœ€æ±‚æ¥å†³å®šã€‚ ä½œä¸º I/O çœŸæ­£å¤„ç†çš„çº¿ç¨‹î€„å­˜åœ¨äºæœåŠ¡å™¨ç«¯å’Œå®¢æˆ·ç«¯î€„ç”¨æ¥å¤„ç† I/O çš„è¯»å†™æ“ä½œî€„çº¿ç¨‹çš„æ•°é‡æ˜¯å¯ä»¥é…ç½®çš„î€„é»˜è®¤æœ€å¤§æ•°é‡æ˜¯ CPU ä¸ªæ•° +1 ã€‚ åœ¨æœåŠ¡å™¨ç«¯ä¸­î€„åœ¨åˆ›å»º SocketAcceptor çš„æ—¶å€™æŒ‡å®š ProcessorCount ã€‚<br>SocketAcceptor acceptor = new SocketAcceptor(Runtime.getRuntime().availableProcessors() + 1, Executors.newCachedThreadPool()); NioProcessor è™½ç„¶æ˜¯å¤šçº¿ç¨‹î€„ä½†æ˜¯å¯¹ä¸ä¸€ä¸ªè¿æ¥çš„æ—¶å€™ä¸šåŠ¡å¤„ç†åªä¼šä½¿ç”¨ä¸€ä¸ªçº¿ç¨‹è¿›è¡Œå¤„ç†î€‚ Processorçº¿ç¨‹å¯¹äºä¸€ä¸ªå®¢æˆ·ç«¯è¿æ¥åªä½¿ç”¨ä¸€ä¸ªçº¿ç¨‹ NioProcessor-n î€ƒå¦‚æœ handler çš„ä¸šåŠ¡æ¯”è¾ƒè€—æ—¶î€„ä¼šå¯¼è‡´NioProcessor çº¿ç¨‹å µå¡ î€„åœ¨ 2 ä¸ªå®¢æˆ·ç«¯åŒæ—¶è¿æ¥ä¸Šæ¥çš„æ—¶å€™ä¼šåˆ›å»ºç¬¬ 2 ä¸ªî€‚å‰ææ˜¯ç¬¬ 1 ä¸ª NioProcessor æ­£åœ¨å¿™î€ƒî€„åˆ›å»ºçš„æœ€å¤§æ•°é‡ç”± Acceptor æ„é€ æ–¹æ³•çš„æ—¶å€™æŒ‡å®šã€‚å¦‚æœî€…ä¸€ä¸ªå®¢æˆ·ç«¯è¿æ¥åŒæœåŠ¡å™¨ç«¯æœ‰å¾ˆå¤šé€šä¿¡î€„å¹¶ä¸”I/O çš„å¼€é”€ä¸å¤§î€„ä½†æ˜¯ Handler å¤„ç†çš„ä¸šåŠ¡æ—¶é—´æ¯”è¾ƒé•¿î€„é‚£ä¹ˆéœ€è¦é‡‡ç”¨ç‹¬ç«‹çš„çº¿ç¨‹æ¨¡å¼î€„åœ¨ FilterChain çš„æœ€åå¢åŠ ä¸€ä¸ª ExecutorFitler î€„è¿™ä¸ªå°±æ˜¯ç¬¬ä¸‰ç±»çº¿ç¨‹æ± äº†ã€‚</p>
<p>ç¬¬ä¸‰ç±»çº¿ç¨‹æ± <br>ä¸Šè¿°çš„ä¸¤ç±»çº¿ç¨‹æ˜¯ mina æ¡†æ¶æœ¬èº«æ‰€åˆ›å»ºçš„î€„å¦‚æœä½ çš„åº”ç”¨æ¯æ¬¡å¤„ç†è¯·æ±‚çš„æ—¶é—´è¾ƒé•¿è€Œåˆå¸Œæœ›åº”ç”¨èƒ½å¤Ÿæœ‰è¾ƒå¥½çš„å“åº”æ€§î€„é‚£ä¹ˆæœ€å¥½æ˜¯æŠŠå¤„ç†ä¸šåŠ¡é€»è¾‘çš„ä»»åŠ¡æ”¾åˆ°ä¸€ä¸ªæ–°çš„çº¿ç¨‹ä¸­å»æ‰§è¡Œî€„è€Œä¸æ˜¯åœ¨ mina æ¡†æ¶åˆ›å»ºçš„çº¿ç¨‹ä¸­å»æ‰§è¡Œã€‚ mina æ¡†æ¶æœ¬èº«æä¾›äº†ä¸€ä¸ªè¿‡æ»¤å™¨ ExecutorFilter æ¥å®Œæˆè¿™æ ·çš„ä»»åŠ¡î€„å®ƒä¼šæŠŠåœ¨æ­¤ä¹‹åçš„è¿‡æ»¤å™¨ä»¥åŠIoHandler ä¸­å¤„ç†ä¸šåŠ¡é€»è¾‘çš„ä»£ç æ”¾åˆ°ä¸€ä¸ªæ–°çš„çº¿ç¨‹ä¸­å»æ‰§è¡Œã€‚å½“ mina æ¡†æ¶ä¸­çš„ç¬¬äºŒç±»çº¿ç¨‹æ‰§è¡Œå®Œæ­¤è¿‡æ»¤å™¨åå°±ä¼šç«‹å³è¿”å›î€ƒå¯ä»¥ç”¨äºå¤„ç†æ–°çš„è¯·æ±‚ã€‚å¦‚æœä¸æƒ³ä½¿ç”¨æ­¤è¿‡æ»¤å™¨î€ƒè¿˜å¯ä»¥è®¾ç½® mina çš„çº¿ç¨‹æ¨¡å‹æ¥è¾¾åˆ°ç›¸åŒçš„æ•ˆæœî€ƒå…¶å®çº¿ç¨‹æ¨¡å‹ä¹Ÿæ˜¯ä½¿ç”¨ ExecutorFilter å®ç°çš„ã€‚ä½†éœ€è¦æ³¨æ„çš„æ˜¯î€ƒåœ¨ mina 2.0 ç‰ˆæœ¬ä¸­å·²ç»åºŸå¼ƒäº†çº¿ç¨‹æ¨¡å‹ã€‚ ä½¿ç”¨ç±»è¿™ä¸‰æ¬¡çº¿ç¨‹æ± î€ƒæ€§èƒ½å¯ä»¥å¾—åˆ°ä¿è¯äº†î€ƒåœ¨æœ¬é¡¹ç›®ä¸­î€ƒä¸»è¦é…ç½®äº†ç¬¬äºŒç±»çº¿ç¨‹æ± å’Œç¬¬ä¸‰ç±»çº¿ç¨‹æ± ã€‚ç¬¬äºŒç±»çº¿ç¨‹æ± åœ¨æ–°å»º NioAcceptor å¯¹è±¡î€ä»¥å»ºç«‹ TCP ç›‘å¬æœåŠ¡å™¨ä¸ºä¾‹î€‚æ—¶å€™î€ƒåœ¨å…¶æ„é€ å‡½æ•°ä¸­ä½“ç°î€ƒè€Œè¿™ä¸ªæ•°å€¼éœ€è¦å¤šæ¬¡æµ‹è¯•æ¥è®¾å®šî€ƒå…¶æµ‹è¯•æ–¹æ³•åœ¨å›½å¤–ç½‘ç«™æœ‰å®Œæ•´è¡¨è¿°î€ƒè¯·è‡ªè¡Œ Google î€…ç¬¬ä¸‰ç±»çº¿ç¨‹æ± è®¾å®šåœ¨ Apache Mina çš„è¿‡æ»¤å™¨å±‚î€ƒä¸€èˆ¬è€Œè¨€åªéœ€è¦è®¾ç½®ä¸€å±‚î€ƒè®¾ç½®åœ¨æœ€æ¶ˆè€—æ—¶é—´çš„ä¸šåŠ¡å‰é¢î€ƒå¦‚æ¯”è¾ƒå¤æ‚çš„è§£ç î€ƒæˆ–è€…æ˜¯æ•°æ®åº“è®¿é—®æ¨¡å—ã€‚ å…³äºå…±äº«çº¿ç¨‹æ± é—®é¢˜î€ƒ Apache Mina æœ‰ä¸ªå®˜æ–¹è¯´æ³•î€„ä½ å¯ä»¥æƒ³è®© IoServices å’Œ ExecutorFilters å…±äº«ä¸€ä¸ªçº¿ç¨‹æ± î€ƒè€Œä¸æ˜¯ä¸€å®¶ä¸€ä¸ªã€‚è¿™ä¸ªæ˜¯ä¸ç¦æ­¢çš„î€ƒä½†æ˜¯ä¼šå‡ºç°å¾ˆå¤šé—®é¢˜î€ƒåœ¨è¿™ç§æƒ…å†µä¸‹î€ƒé™¤éä½ ä¸º IoServices å»ºç«‹ä¸€ä¸ªç¼“å†²çº¿ç¨‹æ± ã€‚ æœ¬äººå°šæœªè€ƒç©¶ã€‚</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>minaæœåŠ¡ç«¯çš„é€šä¿¡è¿‡ç¨‹å¦‚ä¸‹<br> 1 ã€é€šè¿‡ SocketAcceptor åŒå®¢æˆ·ç«¯å»ºç«‹è¿æ¥<br> 2 ã€é“¾æ¥å»ºç«‹ä¹‹å I/O çš„è¯»å†™äº¤ç»™äº† I/O Processor çº¿ç¨‹ I/O Processor æ˜¯å¤šçº¿ç¨‹çš„<br> 3 ã€é€šè¿‡ I/O Processor è¯»å–çš„æ•°æ®ç»è¿‡ IoFilterChain é‡Œæ‰€æœ‰é…ç½®çš„ IoFilter î€‚ IoFilter è¿›è¡Œæ¶ˆæ¯çš„è¿‡æ»¤î€‚æ ¼å¼çš„è½¬æ¢î€‚åœ¨è¿™ä¸ªå±‚é¢å¯ä»¥åˆ¶å®šä¸€äº›è‡ªå®šä¹‰çš„åè®®ï¼›<br> 4 ã€æœ€å IoFilter å°†æ•°æ®äº¤ç»™ Handler è¿›è¡Œä¸šåŠ¡å¤„ç†î€‚å®Œæˆäº†æ•´ä¸ªè¯»å–çš„è¿‡ç¨‹<br> 5 ã€å†™å…¥è¿‡ç¨‹ä¹Ÿæ˜¯ç±»ä¼¼î€‚åªæ˜¯åˆšå¥½å€’è¿‡æ¥î€‚é€šè¿‡ IoSession.write å†™å‡ºæ•°æ®î€‚ç„¶å Handler è¿›è¡Œå†™å…¥çš„ä¸šåŠ¡å¤„ç†î€‚å¤„ç†å®Œæˆåäº¤ç»™ IoFilterChain î€‚è¿›è¡Œæ¶ˆæ¯è¿‡æ»¤å’Œåè®®çš„è½¬æ¢î€‚æœ€åé€šè¿‡ I/O Processor å°†æ•°æ®å†™å‡ºåˆ° socketé€šé“ã€‚</p>]]>
    
    </summary>
    
      <category term="java" scheme="http://www.52ff.cc/tags/java/"/>
    
      <category term="nio" scheme="http://www.52ff.cc/tags/nio/"/>
    
      <category term="java" scheme="http://www.52ff.cc/categories/java/"/>
    
  </entry>
  
</feed>